<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>부록 A: 전체 SQL 스크립트 - 물리치료사를 위한 데이터베이스 3권</title>
    <link rel="stylesheet" href="../css/style.css">
</head>
<body>
    @@include('components/top-nav.html', {"root": "../..", "activeBook": "3"})

    @@include('components/mobile-menu.html')
    <div class="container">
        <nav class="sidebar" id="sidebar">
            <button class="close-btn" onclick="toggleMenu()">×</button>
            <div class="sidebar-header">
                <h1>📙 물리치료사를 위한</h1>
                <p>실전 구축 & 대시보드 (3권)</p>
            </div>
            <ul class="nav-list" id="navList"></ul>
        </nav>
        <main class="main">
<h1 class="title">부록 A: 전체 SQL 스크립트</h1>

<h2>한 번에 실행하는 전체 스크립트</h2>

<p>이 부록에는 힐링손 물리치료센터 데이터베이스를 처음부터 끝까지 생성하는 모든 SQL이 포함되어 있습니다. 새로운 환경에서 다시 시작하거나, 초기화가 필요할 때 사용하세요.</p>

<div class="warning"><strong>⚠️ 주의사항</strong><br>
<ul>
<li>이 스크립트를 실행하면 기존 healing_hands 데이터베이스가 삭제됩니다</li>
<li>중요한 데이터가 있다면 먼저 백업하세요</li>
<li>순서대로 실행해야 합니다 (외래키 관계 때문)</li>
</ul>
</div>

<hr>

<h2>1. 데이터베이스 생성</h2>

<pre><code>-- 기존 데이터베이스 삭제 (주의!)
DROP DATABASE IF EXISTS healing_hands;

-- 새 데이터베이스 생성
CREATE DATABASE healing_hands
CHARACTER SET utf8mb4
COLLATE utf8mb4_unicode_ci;

-- 데이터베이스 선택
USE healing_hands;</code></pre>

<hr>

<h2>2. 테이블 생성</h2>

<pre><code>-- 1. 보험사 테이블
CREATE TABLE insurances (
insurance_code VARCHAR(10) PRIMARY KEY,
insurance_name VARCHAR(50) NOT NULL,
insurance_type VARCHAR(20),
contact_number VARCHAR(20),
created_at DATETIME DEFAULT CURRENT_TIMESTAMP
);

-- 2. 수가 항목 테이블
CREATE TABLE fee_items (
fee_code VARCHAR(10) PRIMARY KEY,
fee_name VARCHAR(50) NOT NULL,
unit_price INT NOT NULL,
duration_minutes INT,
description TEXT,
is_active CHAR(1) DEFAULT 'Y',
created_at DATETIME DEFAULT CURRENT_TIMESTAMP
);

-- 3. 진단 코드 테이블
CREATE TABLE diagnosis_codes (
diagnosis_code VARCHAR(10) PRIMARY KEY,
diagnosis_name VARCHAR(100) NOT NULL,
diagnosis_category VARCHAR(50),
description TEXT,
created_at DATETIME DEFAULT CURRENT_TIMESTAMP
);

-- 4. 치료사 테이블
CREATE TABLE therapists (
therapist_id VARCHAR(10) PRIMARY KEY,
name VARCHAR(50) NOT NULL,
license_number VARCHAR(20),
phone VARCHAR(20),
email VARCHAR(100),
specialization VARCHAR(100),
hire_date DATE,
is_active CHAR(1) DEFAULT 'Y',
created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);

-- 5. 환자 테이블
CREATE TABLE patients (
patient_id VARCHAR(10) PRIMARY KEY,
name VARCHAR(50) NOT NULL,
gender CHAR(1),
birth_date DATE,
phone VARCHAR(20),
email VARCHAR(100),
address VARCHAR(200),
insurance_code VARCHAR(10),
emergency_contact VARCHAR(50),
emergency_phone VARCHAR(20),
memo TEXT,
is_active CHAR(1) DEFAULT 'Y',
created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
FOREIGN KEY (insurance_code) REFERENCES insurances(insurance_code)
);

-- 6. 치료 세션 테이블
CREATE TABLE treatment_sessions (
session_id INT AUTO_INCREMENT PRIMARY KEY,
patient_id VARCHAR(10) NOT NULL,
therapist_id VARCHAR(10) NOT NULL,
session_date DATE NOT NULL,
start_time TIME,
end_time TIME,
session_status VARCHAR(20) DEFAULT '완료',
notes TEXT,
created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
FOREIGN KEY (patient_id) REFERENCES patients(patient_id),
FOREIGN KEY (therapist_id) REFERENCES therapists(therapist_id)
);

-- 7. 청구/수납 테이블
CREATE TABLE billings (
billing_id INT AUTO_INCREMENT PRIMARY KEY,
session_id INT NOT NULL,
fee_code VARCHAR(10) NOT NULL,
quantity INT DEFAULT 1,
unit_price INT NOT NULL,
total_amount INT NOT NULL,
payment_status VARCHAR(20) DEFAULT '대기',
payment_method VARCHAR(20),
payment_date DATE,
memo TEXT,
created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
FOREIGN KEY (session_id) REFERENCES treatment_sessions(session_id),
FOREIGN KEY (fee_code) REFERENCES fee_items(fee_code)
);

-- 8. 환자-진단 연결 테이블
CREATE TABLE patient_diagnoses (
patient_id VARCHAR(10) NOT NULL,
diagnosis_code VARCHAR(10) NOT NULL,
diagnosis_date DATE,
is_primary CHAR(1) DEFAULT 'N',
notes TEXT,
created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
PRIMARY KEY (patient_id, diagnosis_code),
FOREIGN KEY (patient_id) REFERENCES patients(patient_id),
FOREIGN KEY (diagnosis_code) REFERENCES diagnosis_codes(diagnosis_code)
);

-- 9. SOAP 노트 테이블
CREATE TABLE soap_notes (
note_id INT AUTO_INCREMENT PRIMARY KEY,
session_id INT NOT NULL UNIQUE,
subjective TEXT,
objective TEXT,
assessment TEXT,
plan TEXT,
created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
FOREIGN KEY (session_id) REFERENCES treatment_sessions(session_id)
);</code></pre>

<hr>

<h2>3. 제약조건 및 인덱스</h2>

<pre><code>-- CHECK 제약조건
ALTER TABLE patients ADD CONSTRAINT chk_gender CHECK (gender IN ('M', 'F'));
ALTER TABLE patients ADD CONSTRAINT chk_is_active CHECK (is_active IN ('Y', 'N'));
ALTER TABLE billings ADD CONSTRAINT chk_total_amount CHECK (total_amount >= 0);
ALTER TABLE billings ADD CONSTRAINT chk_quantity CHECK (quantity >= 1);

-- UNIQUE 제약조건
ALTER TABLE patients ADD CONSTRAINT uq_patient_info UNIQUE (name, birth_date, phone);

-- 인덱스
CREATE INDEX idx_patient_name ON patients(name);
CREATE INDEX idx_patient_phone ON patients(phone);
CREATE INDEX idx_session_date ON treatment_sessions(session_date);
CREATE INDEX idx_session_patient ON treatment_sessions(patient_id);
CREATE INDEX idx_session_therapist ON treatment_sessions(therapist_id);
CREATE INDEX idx_payment_status ON billings(payment_status);</code></pre>

<hr>

<h2>4. 기준 데이터 입력</h2>

<pre><code>-- 보험사 데이터
INSERT INTO insurances (insurance_code, insurance_name, insurance_type, contact_number) VALUES
('INS001', '국민건강보험', '건강보험', '1577-1000'),
('INS002', '삼성화재', '실손보험', '1588-5114'),
('INS003', '현대해상', '실손보험', '1588-5656'),
('INS004', 'DB손해보험', '실손보험', '1588-0100'),
('INS005', '메리츠화재', '실손보험', '1566-7711');

-- 수가 항목 데이터
INSERT INTO fee_items (fee_code, fee_name, unit_price, duration_minutes, description) VALUES
('FEE001', '도수치료 30분', 80000, 30, '1:1 도수치료 30분'),
('FEE002', '도수치료 60분', 150000, 60, '1:1 도수치료 60분'),
('FEE003', '운동치료 30분', 50000, 30, '재활운동 지도 30분'),
('FEE004', '운동치료 60분', 90000, 60, '재활운동 지도 60분'),
('FEE005', '체외충격파', 30000, 15, '충격파 치료 1부위'),
('FEE006', '슈로스 측만증', 100000, 50, '슈로스 측만증 교정'),
('FEE007', '자동차보험 치료', 100000, 40, '자보 물리치료'),
('FEE008', '초진 상담', 0, 20, '신규 환자 상담');

-- 진단 코드 데이터
INSERT INTO diagnosis_codes (diagnosis_code, diagnosis_name, diagnosis_category) VALUES
('M54.5', '요통', '척추'),
('M54.2', '경추통', '척추'),
('M51.1', '요추 추간판 장애', '척추'),
('M50.1', '경추 추간판 장애', '척추'),
('M47.8', '기타 척추증', '척추'),
('M48.0', '척추관 협착증', '척추'),
('M41.1', '특발성 측만증', '척추'),
('M75.0', '유착성 관절낭염 (오십견)', '어깨'),
('M75.1', '회전근개 증후군', '어깨'),
('M75.4', '충돌 증후군', '어깨'),
('M17.1', '원발성 무릎관절증', '무릎'),
('M23.2', '반월판 장애', '무릎'),
('M76.5', '슬개건염', '무릎'),
('M65.4', '드퀘르벵 건초염', '손목/손'),
('M77.1', '외측 상과염 (테니스엘보)', '팔꿈치'),
('M77.0', '내측 상과염 (골프엘보)', '팔꿈치'),
('M79.1', '근막통증 증후군', '기타'),
('M62.8', '근육 장애', '기타'),
('S13.4', '경추 염좌', '외상'),
('S33.5', '요추 염좌', '외상');

-- 치료사 데이터
INSERT INTO therapists (therapist_id, name, license_number, phone, email, specialization, hire_date) VALUES
('T001', '김지훈', 'PT-2010-1234', '010-1001-0001', 'jihoon.kim@healinghands.com', '도수치료, 정형물리치료', '2023-01-01'),
('T002', '박민수', 'PT-2015-5678', '010-1002-0001', 'minsu.park@healinghands.com', '스포츠재활, 운동치료', '2023-03-01'),
('T003', '이서연', 'PT-2018-9012', '010-1003-0001', 'seoyeon.lee@healinghands.com', '도수치료, 측만증', '2023-06-01'),
('T004', '최준호', 'PT-2020-3456', '010-1004-0001', 'junho.choi@healinghands.com', '운동치료, 필라테스', '2023-09-01');</code></pre>

<hr>

<h2>5. 환자 데이터 입력</h2>

<pre><code>INSERT INTO patients (patient_id, name, gender, birth_date, phone, email, address, insurance_code, emergency_contact, emergency_phone, memo) VALUES
('P001', '강민준', 'M', '1985-03-15', '010-2001-0001', 'mjkang85@email.com', '서울시 강남구 역삼동 123-4', 'INS001', '강수진', '010-2001-0002', '사무직, 허리 통증'),
('P002', '김서연', 'F', '1990-07-22', '010-2002-0001', 'sykim90@email.com', '서울시 강남구 삼성동 456-7', 'INS002', '김철수', '010-2002-0002', '디자이너, 목/어깨 통증'),
('P003', '이준혁', 'M', '1978-11-08', '010-2003-0001', 'jhlee78@email.com', '서울시 서초구 서초동 789-0', 'INS001', '이미영', '010-2003-0002', '자영업, 만성 요통'),
('P004', '박지우', 'F', '1995-01-30', '010-2004-0001', 'jwpark95@email.com', '서울시 강남구 청담동 111-2', 'INS003', '박영호', '010-2004-0002', '학생, 측만증'),
('P005', '최현우', 'M', '1982-09-12', '010-2005-0001', 'hwchoi82@email.com', '서울시 송파구 잠실동 222-3', 'INS001', '최지영', '010-2005-0002', '회사원, 디스크'),
('P006', '정수빈', 'F', '1988-05-25', '010-2006-0001', 'sbjeong88@email.com', '서울시 강남구 대치동 333-4', 'INS002', '정민호', '010-2006-0002', '주부, 오십견'),
('P007', '윤도현', 'M', '1975-12-03', '010-2007-0001', 'dhyoon75@email.com', '서울시 서초구 방배동 444-5', 'INS001', '윤서희', '010-2007-0002', '자영업, 무릎 관절염'),
('P008', '한예진', 'F', '1992-08-18', '010-2008-0001', 'yjhan92@email.com', '서울시 강남구 논현동 555-6', 'INS004', '한상우', '010-2008-0002', '요가강사, 손목 통증'),
('P009', '임재원', 'M', '1980-04-07', '010-2009-0001', 'jwlim80@email.com', '서울시 송파구 문정동 666-7', 'INS001', '임수정', '010-2009-0002', '운전기사, 경추통'),
('P010', '송예진', 'F', '1997-10-14', '010-2010-0001', 'yjsong97@email.com', '서울시 강남구 신사동 777-8', 'INS003', '송민수', '010-2010-0002', '대학생, 거북목'),
('P011', '오승민', 'M', '1986-06-28', '010-2011-0001', 'smooh86@email.com', '서울시 서초구 양재동 888-9', 'INS001', '오지현', '010-2011-0002', 'IT개발자, VDT증후군'),
('P012', '배수아', 'F', '1983-02-11', '010-2012-0001', 'sabae83@email.com', '서울시 강남구 도곡동 999-0', 'INS002', '배준호', '010-2012-0002', '교사, 어깨 통증'),
('P013', '권태현', 'M', '1970-08-20', '010-2013-0001', 'thkwon70@email.com', '서울시 송파구 가락동 101-1', 'INS001', '권미숙', '010-2013-0002', '퇴직자, 척추관협착증'),
('P014', '신유나', 'F', '1999-04-05', '010-2014-0001', 'ynshin99@email.com', '서울시 강남구 압구정동 202-2', 'INS005', '신동훈', '010-2014-0002', '학생, 스포츠손상'),
('P015', '조영민', 'M', '1977-11-30', '010-2015-0001', 'ymjo77@email.com', '서울시 서초구 반포동 303-3', 'INS001', '조혜원', '010-2015-0002', '사업가, 골프엘보'),
('P016', '황지민', 'F', '1991-09-08', '010-2016-0001', 'jmhwang91@email.com', '서울시 강남구 개포동 404-4', 'INS003', '황석준', '010-2016-0002', '간호사, 요통'),
('P017', '안정호', 'M', '1984-01-17', '010-2017-0001', 'jhan84@email.com', '서울시 송파구 석촌동 505-5', 'INS001', '안미라', '010-2017-0002', '공무원, 경추디스크'),
('P018', '전하늘', 'F', '1993-06-22', '010-2018-0001', 'hnjeon93@email.com', '서울시 강남구 수서동 606-6', 'INS002', '전상호', '010-2018-0002', '승무원, 다리 저림'),
('P019', '고은성', 'M', '1968-03-09', '010-2019-0001', 'esko68@email.com', '서울시 서초구 잠원동 707-7', 'INS001', '고미자', '010-2019-0002', '은퇴, 퇴행성관절염'),
('P020', '문채원', 'F', '1996-12-01', '010-2020-0001', 'cwmoon96@email.com', '서울시 강남구 일원동 808-8', 'INS004', '문성호', '010-2020-0002', '필라테스강사, 고관절'),
('P021', '유재훈', 'M', '1979-07-14', '010-2021-0001', 'jhyoo79@email.com', '서울시 송파구 방이동 909-9', 'INS001', '유정아', '010-2021-0002', '택시기사, 무릎통증'),
('P022', '남지은', 'F', '1987-05-26', '010-2022-0001', 'jenam87@email.com', '서울시 강남구 세곡동 110-1', 'INS003', '남기철', '010-2022-0002', '약사, 손저림'),
('P023', '서동욱', 'M', '1973-10-03', '010-2023-0001', 'dwseo73@email.com', '서울시 서초구 내곡동 220-2', 'INS001', '서미영', '010-2023-0002', '건축가, 만성요통'),
('P024', '노은비', 'F', '1994-08-19', '010-2024-0001', 'ebnoh94@email.com', '서울시 강남구 자곡동 330-3', 'INS002', '노상현', '010-2024-0002', '바리스타, 손목건초염'),
('P025', '장민혁', 'M', '1981-02-28', '010-2025-0001', 'mhjang81@email.com', '서울시 송파구 오금동 440-4', 'INS001', '장수연', '010-2025-0002', '변호사, 목디스크'),
('P026', '심수진', 'F', '1989-11-15', '010-2026-0001', 'sjshim89@email.com', '서울시 강남구 율현동 550-5', 'INS005', '심재호', '010-2026-0002', '통역사, 두통/경추'),
('P027', '백준서', 'M', '1976-04-22', '010-2027-0001', 'jsbaek76@email.com', '서울시 서초구 우면동 660-6', 'INS001', '백미순', '010-2027-0002', '요리사, 허리염좌'),
('P028', '추예림', 'F', '1998-07-07', '010-2028-0001', 'yrchu98@email.com', '서울시 강남구 밤고개로 770-7', 'INS003', '추성민', '010-2028-0002', '발레리나, 발목'),
('P029', '하승준', 'M', '1963-09-30', '010-2029-0001', 'sjha63@email.com', '서울시 송파구 마천동 880-8', 'INS001', '하옥순', '010-2029-0002', '은퇴, 전신관절통'),
('P030', '양서현', 'F', '1985-12-12', '010-2030-0001', 'shyang85@email.com', '서울시 강남구 세곡동 990-9', 'INS002', '양재혁', '010-2030-0002', '작가, 거북목/어깨');</code></pre>

<hr>

<h2>6. 환자 진단 데이터</h2>

<pre><code>INSERT INTO patient_diagnoses (patient_id, diagnosis_code, diagnosis_date, is_primary, notes) VALUES
('P001', 'M54.5', '2024-01-05', 'Y', '만성 요통, 앉아있는 시간이 길어 악화'),
('P002', 'M54.2', '2024-01-08', 'Y', '경추통, 컴퓨터 작업 많음'),
('P002', 'M79.1', '2024-01-08', 'N', '승모근 근막통증 동반'),
('P003', 'M51.1', '2024-01-10', 'Y', '요추 4-5번 디스크'),
('P004', 'M41.1', '2024-01-12', 'Y', '흉추 측만 18도'),
('P005', 'M51.1', '2024-01-15', 'Y', '요추 디스크 탈출'),
('P006', 'M75.0', '2024-01-18', 'Y', '우측 오십견'),
('P007', 'M17.1', '2024-01-20', 'Y', '양측 무릎 퇴행성 관절염'),
('P008', 'M65.4', '2024-01-22', 'Y', '우측 드퀘르벵'),
('P009', 'M54.2', '2024-01-24', 'Y', '경추통, 장시간 운전'),
('P009', 'M50.1', '2024-02-05', 'N', '경추 5-6번 디스크 의심'),
('P010', 'M54.2', '2024-01-26', 'Y', '거북목 증후군'),
('P011', 'M79.1', '2024-01-28', 'Y', 'VDT 증후군'),
('P011', 'M54.2', '2024-01-28', 'N', '경추통 동반'),
('P012', 'M75.1', '2024-01-30', 'Y', '좌측 회전근개'),
('P013', 'M48.0', '2024-02-01', 'Y', '요추 척추관 협착증'),
('P014', 'M23.2', '2024-02-03', 'Y', '반월판 손상'),
('P015', 'M77.0', '2024-02-05', 'Y', '우측 골프엘보'),
('P016', 'M54.5', '2024-02-07', 'Y', '요통, 야간근무 많음'),
('P017', 'M50.1', '2024-02-09', 'Y', '경추 디스크'),
('P018', 'M54.5', '2024-02-11', 'Y', '요통, 장시간 서있음'),
('P018', 'S33.5', '2024-02-11', 'N', '요추 염좌 병력'),
('P019', 'M17.1', '2024-02-13', 'Y', '무릎 퇴행성 관절염'),
('P020', 'M79.1', '2024-02-15', 'Y', '고관절 주변 근막통'),
('P021', 'M17.1', '2024-02-17', 'Y', '우측 무릎 관절염'),
('P022', 'M65.4', '2024-02-19', 'Y', '손목 건초염'),
('P023', 'M54.5', '2024-02-21', 'Y', '만성 요통 10년'),
('P023', 'M47.8', '2024-02-21', 'N', '척추증 동반'),
('P024', 'M65.4', '2024-02-23', 'Y', '양측 손목 건초염'),
('P025', 'M50.1', '2024-02-25', 'Y', '경추 디스크'),
('P026', 'M54.2', '2024-02-27', 'Y', '경추통, 두통 동반'),
('P027', 'S33.5', '2024-03-01', 'Y', '급성 요추 염좌'),
('P028', 'M76.5', '2024-03-03', 'Y', '슬개건염'),
('P029', 'M17.1', '2024-03-05', 'Y', '다발성 관절염'),
('P029', 'M47.8', '2024-03-05', 'N', '척추증'),
('P030', 'M54.2', '2024-03-07', 'Y', '거북목'),
('P030', 'M75.4', '2024-03-07', 'N', '어깨 충돌증후군');</code></pre>

<hr>

<h2>7. 치료 세션 데이터</h2>

<pre><code>-- 1월 치료 세션 (27건)
INSERT INTO treatment_sessions (patient_id, therapist_id, session_date, start_time, end_time, session_status, notes) VALUES
('P001', 'T001', '2024-01-05', '10:00', '10:30', '완료', '초진, 요통 평가'),
('P001', 'T001', '2024-01-08', '10:00', '10:30', '완료', '도수치료 2회차'),
('P001', 'T001', '2024-01-12', '10:00', '10:30', '완료', '도수치료 3회차'),
('P002', 'T003', '2024-01-08', '14:00', '14:30', '완료', '초진, 경추 평가'),
('P002', 'T003', '2024-01-11', '14:00', '14:30', '완료', '도수치료 2회차'),
('P002', 'T003', '2024-01-15', '14:00', '14:30', '완료', '도수치료 3회차'),
('P003', 'T001', '2024-01-10', '11:00', '12:00', '완료', '초진, 디스크 정밀평가'),
('P003', 'T001', '2024-01-15', '11:00', '12:00', '완료', '도수치료 60분'),
('P003', 'T001', '2024-01-19', '11:00', '12:00', '완료', '도수치료 60분 3회차'),
('P004', 'T003', '2024-01-12', '16:00', '16:50', '완료', '초진, 슈로스 평가'),
('P004', 'T003', '2024-01-16', '16:00', '16:50', '완료', '슈로스 2회차'),
('P004', 'T003', '2024-01-19', '16:00', '16:50', '완료', '슈로스 3회차'),
('P005', 'T001', '2024-01-15', '09:00', '09:30', '완료', '초진, 디스크 평가'),
('P005', 'T001', '2024-01-18', '09:00', '09:30', '완료', '도수치료 2회차'),
('P005', 'T001', '2024-01-22', '09:00', '09:30', '완료', '도수치료 3회차'),
('P006', 'T001', '2024-01-18', '14:00', '14:30', '완료', '초진, 오십견 평가'),
('P006', 'T001', '2024-01-22', '14:00', '14:30', '완료', '도수치료 2회차'),
('P006', 'T001', '2024-01-25', '14:00', '14:30', '완료', '도수치료 3회차'),
('P007', 'T002', '2024-01-20', '10:00', '10:30', '완료', '초진, 무릎 평가'),
('P007', 'T002', '2024-01-24', '10:00', '10:30', '완료', '운동치료 2회차'),
('P007', 'T002', '2024-01-29', '10:00', '10:30', '완료', '운동치료 3회차'),
('P008', 'T003', '2024-01-22', '11:00', '11:30', '완료', '초진, 손목 평가'),
('P008', 'T003', '2024-01-25', '11:00', '11:30', '완료', '도수치료 2회차'),
('P009', 'T001', '2024-01-24', '15:00', '15:30', '완료', '초진, 경추 평가'),
('P009', 'T001', '2024-01-29', '15:00', '15:30', '완료', '도수치료 2회차'),
('P010', 'T004', '2024-01-26', '13:00', '13:30', '완료', '초진, 거북목 평가'),
('P010', 'T004', '2024-01-30', '13:00', '13:30', '완료', '운동치료 2회차');

-- 2월 치료 세션 (27건)
INSERT INTO treatment_sessions (patient_id, therapist_id, session_date, start_time, end_time, session_status, notes) VALUES
('P001', 'T001', '2024-02-02', '10:00', '10:30', '완료', '도수치료 4회차'),
('P001', 'T001', '2024-02-07', '10:00', '10:30', '완료', '도수치료 5회차, 호전'),
('P003', 'T001', '2024-02-02', '11:00', '12:00', '완료', '도수치료 60분 4회차'),
('P003', 'T001', '2024-02-09', '11:00', '12:00', '완료', '도수치료 60분 5회차'),
('P004', 'T003', '2024-02-02', '16:00', '16:50', '완료', '슈로스 4회차'),
('P004', 'T003', '2024-02-06', '16:00', '16:50', '완료', '슈로스 5회차'),
('P005', 'T001', '2024-02-05', '09:00', '09:30', '완료', '도수치료 4회차'),
('P006', 'T001', '2024-02-01', '14:00', '14:30', '완료', '도수치료 4회차'),
('P006', 'T001', '2024-02-08', '14:00', '14:30', '완료', '도수치료 5회차'),
('P007', 'T002', '2024-02-05', '10:00', '10:30', '완료', '운동치료 4회차'),
('P007', 'T002', '2024-02-13', '10:00', '10:30', '완료', '운동치료 5회차'),
('P011', 'T004', '2024-01-28', '14:00', '15:00', '완료', '초진, VDT 평가'),
('P011', 'T004', '2024-02-05', '14:00', '15:00', '완료', '운동치료 60분'),
('P012', 'T002', '2024-01-30', '15:00', '15:30', '완료', '초진, 어깨 평가'),
('P012', 'T002', '2024-02-06', '15:00', '15:30', '완료', '운동치료 2회차'),
('P013', 'T001', '2024-02-01', '09:00', '10:00', '완료', '초진, 협착증 정밀평가'),
('P013', 'T001', '2024-02-08', '09:00', '10:00', '완료', '도수치료 60분'),
('P014', 'T002', '2024-02-03', '11:00', '11:30', '완료', '초진, 무릎 평가'),
('P014', 'T002', '2024-02-10', '11:00', '11:30', '완료', '운동치료 2회차'),
('P015', 'T003', '2024-02-05', '10:00', '10:30', '완료', '초진, 팔꿈치 평가'),
('P015', 'T003', '2024-02-12', '10:00', '10:30', '완료', '도수치료 2회차'),
('P016', 'T001', '2024-02-07', '16:00', '16:30', '완료', '초진, 요통 평가'),
('P016', 'T001', '2024-02-14', '16:00', '16:30', '완료', '도수치료 2회차'),
('P017', 'T001', '2024-02-09', '10:00', '10:30', '완료', '초진, 경추디스크 평가'),
('P017', 'T001', '2024-02-16', '10:00', '10:30', '완료', '도수치료 2회차'),
('P018', 'T003', '2024-02-11', '13:00', '13:30', '완료', '초진, 요통 평가'),
('P018', 'T003', '2024-02-18', '13:00', '13:30', '완료', '도수치료 2회차');

-- 3월 치료 세션 (33건)
INSERT INTO treatment_sessions (patient_id, therapist_id, session_date, start_time, end_time, session_status, notes) VALUES
('P001', 'T001', '2024-03-04', '10:00', '10:30', '완료', '도수치료 6회차, 유지'),
('P003', 'T001', '2024-03-01', '11:00', '12:00', '완료', '도수치료 60분 6회차'),
('P003', 'T001', '2024-03-08', '11:00', '12:00', '완료', '도수치료 60분 7회차'),
('P004', 'T003', '2024-03-01', '16:00', '16:50', '완료', '슈로스 6회차'),
('P004', 'T003', '2024-03-08', '16:00', '16:50', '완료', '슈로스 7회차, 각도 개선'),
('P006', 'T001', '2024-03-04', '14:00', '14:30', '완료', '도수치료 6회차'),
('P007', 'T002', '2024-03-05', '10:00', '10:30', '완료', '운동치료 6회차'),
('P013', 'T001', '2024-03-01', '09:00', '10:00', '완료', '도수치료 60분 3회차'),
('P013', 'T001', '2024-03-08', '09:00', '10:00', '완료', '도수치료 60분 4회차'),
('P017', 'T001', '2024-03-01', '10:00', '10:30', '완료', '도수치료 3회차'),
('P019', 'T002', '2024-02-13', '14:00', '14:30', '완료', '초진, 무릎 평가'),
('P019', 'T002', '2024-02-20', '14:00', '14:30', '완료', '운동치료 2회차'),
('P019', 'T002', '2024-03-05', '14:00', '14:30', '완료', '운동치료 3회차'),
('P020', 'T004', '2024-02-15', '15:00', '15:30', '완료', '초진, 고관절 평가'),
('P020', 'T004', '2024-02-22', '15:00', '15:30', '완료', '운동치료 2회차'),
('P020', 'T004', '2024-03-07', '15:00', '15:30', '완료', '운동치료 3회차'),
('P021', 'T002', '2024-02-17', '09:00', '09:30', '완료', '초진, 무릎 평가'),
('P021', 'T002', '2024-02-24', '09:00', '09:30', '완료', '운동치료 2회차'),
('P021', 'T002', '2024-03-09', '09:00', '09:30', '완료', '운동치료 3회차'),
('P022', 'T003', '2024-02-19', '11:00', '11:30', '완료', '초진, 손목 평가'),
('P022', 'T003', '2024-02-26', '11:00', '11:30', '완료', '도수치료 2회차'),
('P023', 'T001', '2024-02-21', '15:00', '16:00', '완료', '초진, 만성요통 정밀평가'),
('P023', 'T001', '2024-02-28', '15:00', '16:00', '완료', '도수치료 60분 2회차'),
('P024', 'T003', '2024-02-23', '14:00', '14:30', '완료', '초진, 손목 평가'),
('P024', 'T003', '2024-03-02', '14:00', '14:30', '완료', '도수치료 2회차'),
('P025', 'T001', '2024-02-25', '11:00', '11:30', '완료', '초진, 목디스크 평가'),
('P025', 'T001', '2024-03-04', '11:00', '11:30', '완료', '도수치료 2회차'),
('P026', 'T003', '2024-02-27', '10:00', '10:30', '완료', '초진, 경추 평가'),
('P026', 'T003', '2024-03-06', '10:00', '10:30', '완료', '도수치료 2회차'),
('P027', 'T002', '2024-03-01', '16:00', '16:30', '완료', '초진, 요추염좌 평가, 자동차보험'),
('P028', 'T004', '2024-03-03', '11:00', '11:30', '완료', '초진, 슬개건 평가'),
('P029', 'T002', '2024-03-05', '15:00', '15:30', '완료', '초진, 다발성관절 평가'),
('P030', 'T003', '2024-03-07', '09:00', '09:30', '완료', '초진, 거북목/어깨 평가');</code></pre>

<hr>

<h2>8. 청구/수납 데이터</h2>

<pre><code>INSERT INTO billings (session_id, fee_code, quantity, unit_price, total_amount, payment_status, payment_method, payment_date, memo) VALUES
-- 1월
(1, 'FEE008', 1, 0, 0, '완료', NULL, '2024-01-05', '초진상담'),
(2, 'FEE001', 1, 80000, 80000, '완료', '카드', '2024-01-08', NULL),
(3, 'FEE001', 1, 80000, 80000, '완료', '카드', '2024-01-12', NULL),
(4, 'FEE008', 1, 0, 0, '완료', NULL, '2024-01-08', '초진상담'),
(5, 'FEE001', 1, 80000, 80000, '완료', '카드', '2024-01-11', NULL),
(6, 'FEE001', 1, 80000, 80000, '완료', '현금', '2024-01-15', NULL),
(7, 'FEE008', 1, 0, 0, '완료', NULL, '2024-01-10', '초진상담'),
(8, 'FEE002', 1, 150000, 150000, '완료', '카드', '2024-01-15', NULL),
(9, 'FEE002', 1, 150000, 150000, '완료', '카드', '2024-01-19', NULL),
(10, 'FEE008', 1, 0, 0, '완료', NULL, '2024-01-12', '초진상담'),
(11, 'FEE006', 1, 100000, 100000, '완료', '카드', '2024-01-16', NULL),
(12, 'FEE006', 1, 100000, 100000, '완료', '계좌이체', '2024-01-19', NULL),
(13, 'FEE008', 1, 0, 0, '완료', NULL, '2024-01-15', '초진상담'),
(14, 'FEE001', 1, 80000, 80000, '완료', '카드', '2024-01-18', NULL),
(15, 'FEE001', 1, 80000, 80000, '완료', '카드', '2024-01-22', NULL),
(16, 'FEE008', 1, 0, 0, '완료', NULL, '2024-01-18', '초진상담'),
(17, 'FEE001', 1, 80000, 80000, '완료', '현금', '2024-01-22', NULL),
(18, 'FEE001', 1, 80000, 80000, '완료', '카드', '2024-01-25', NULL),
(19, 'FEE008', 1, 0, 0, '완료', NULL, '2024-01-20', '초진상담'),
(20, 'FEE003', 1, 50000, 50000, '완료', '카드', '2024-01-24', NULL),
(21, 'FEE003', 1, 50000, 50000, '완료', '카드', '2024-01-29', NULL),
(22, 'FEE008', 1, 0, 0, '완료', NULL, '2024-01-22', '초진상담'),
(23, 'FEE001', 1, 80000, 80000, '완료', '카드', '2024-01-25', NULL),
(24, 'FEE008', 1, 0, 0, '완료', NULL, '2024-01-24', '초진상담'),
(25, 'FEE001', 1, 80000, 80000, '완료', '카드', '2024-01-29', NULL),
(26, 'FEE008', 1, 0, 0, '완료', NULL, '2024-01-26', '초진상담'),
(27, 'FEE003', 1, 50000, 50000, '완료', '카드', '2024-01-30', NULL),

-- 2월
(28, 'FEE001', 1, 80000, 80000, '완료', '카드', '2024-02-02', NULL),
(29, 'FEE001', 1, 80000, 80000, '완료', '카드', '2024-02-07', NULL),
(30, 'FEE002', 1, 150000, 150000, '완료', '카드', '2024-02-02', NULL),
(31, 'FEE002', 1, 150000, 150000, '완료', '카드', '2024-02-09', NULL),
(32, 'FEE006', 1, 100000, 100000, '완료', '카드', '2024-02-02', NULL),
(33, 'FEE006', 1, 100000, 100000, '완료', '계좌이체', '2024-02-06', NULL),
(34, 'FEE001', 1, 80000, 80000, '완료', '카드', '2024-02-05', NULL),
(35, 'FEE001', 1, 80000, 80000, '완료', '현금', '2024-02-01', NULL),
(36, 'FEE001', 1, 80000, 80000, '완료', '카드', '2024-02-08', NULL),
(37, 'FEE003', 1, 50000, 50000, '완료', '카드', '2024-02-05', NULL),
(38, 'FEE003', 1, 50000, 50000, '완료', '카드', '2024-02-13', NULL),
(39, 'FEE008', 1, 0, 0, '완료', NULL, '2024-01-28', '초진상담'),
(40, 'FEE004', 1, 90000, 90000, '완료', '카드', '2024-02-05', NULL),
(41, 'FEE008', 1, 0, 0, '완료', NULL, '2024-01-30', '초진상담'),
(42, 'FEE003', 1, 50000, 50000, '완료', '카드', '2024-02-06', NULL),
(43, 'FEE008', 1, 0, 0, '완료', NULL, '2024-02-01', '초진상담'),
(44, 'FEE002', 1, 150000, 150000, '완료', '카드', '2024-02-08', NULL),
(45, 'FEE008', 1, 0, 0, '완료', NULL, '2024-02-03', '초진상담'),
(46, 'FEE003', 1, 50000, 50000, '완료', '카드', '2024-02-10', NULL),
(47, 'FEE008', 1, 0, 0, '완료', NULL, '2024-02-05', '초진상담'),
(48, 'FEE001', 1, 80000, 80000, '완료', '카드', '2024-02-12', NULL),
(49, 'FEE008', 1, 0, 0, '완료', NULL, '2024-02-07', '초진상담'),
(50, 'FEE001', 1, 80000, 80000, '완료', '카드', '2024-02-14', NULL),
(51, 'FEE008', 1, 0, 0, '완료', NULL, '2024-02-09', '초진상담'),
(52, 'FEE001', 1, 80000, 80000, '대기', NULL, NULL, '미수금'),
(53, 'FEE008', 1, 0, 0, '완료', NULL, '2024-02-11', '초진상담'),
(54, 'FEE001', 1, 80000, 80000, '완료', '카드', '2024-02-18', NULL),

-- 3월
(55, 'FEE001', 1, 80000, 80000, '완료', '카드', '2024-03-04', NULL),
(56, 'FEE002', 1, 150000, 150000, '완료', '카드', '2024-03-01', NULL),
(57, 'FEE002', 1, 150000, 150000, '완료', '카드', '2024-03-08', NULL),
(58, 'FEE006', 1, 100000, 100000, '완료', '카드', '2024-03-01', NULL),
(59, 'FEE006', 1, 100000, 100000, '완료', '계좌이체', '2024-03-08', NULL),
(60, 'FEE001', 1, 80000, 80000, '완료', '카드', '2024-03-04', NULL),
(61, 'FEE003', 1, 50000, 50000, '완료', '카드', '2024-03-05', NULL),
(62, 'FEE002', 1, 150000, 150000, '완료', '카드', '2024-03-01', NULL),
(63, 'FEE002', 1, 150000, 150000, '완료', '카드', '2024-03-08', NULL),
(64, 'FEE001', 1, 80000, 80000, '완료', '카드', '2024-03-01', NULL),
(65, 'FEE008', 1, 0, 0, '완료', NULL, '2024-02-13', '초진상담'),
(66, 'FEE003', 1, 50000, 50000, '완료', '카드', '2024-02-20', NULL),
(67, 'FEE003', 1, 50000, 50000, '완료', '카드', '2024-03-05', NULL),
(68, 'FEE008', 1, 0, 0, '완료', NULL, '2024-02-15', '초진상담'),
(69, 'FEE003', 1, 50000, 50000, '완료', '카드', '2024-02-22', NULL),
(70, 'FEE003', 1, 50000, 50000, '완료', '카드', '2024-03-07', NULL),
(71, 'FEE008', 1, 0, 0, '완료', NULL, '2024-02-17', '초진상담'),
(72, 'FEE003', 1, 50000, 50000, '완료', '카드', '2024-02-24', NULL),
(73, 'FEE003', 1, 50000, 50000, '대기', NULL, NULL, '미수금'),
(74, 'FEE008', 1, 0, 0, '완료', NULL, '2024-02-19', '초진상담'),
(75, 'FEE001', 1, 80000, 80000, '완료', '카드', '2024-02-26', NULL),
(76, 'FEE008', 1, 0, 0, '완료', NULL, '2024-02-21', '초진상담'),
(77, 'FEE002', 1, 150000, 150000, '완료', '카드', '2024-02-28', NULL),
(78, 'FEE008', 1, 0, 0, '완료', NULL, '2024-02-23', '초진상담'),
(79, 'FEE001', 1, 80000, 80000, '완료', '카드', '2024-03-02', NULL),
(80, 'FEE008', 1, 0, 0, '완료', NULL, '2024-02-25', '초진상담'),
(81, 'FEE001', 1, 80000, 80000, '완료', '현금', '2024-03-04', NULL),
(82, 'FEE008', 1, 0, 0, '완료', NULL, '2024-02-27', '초진상담'),
(83, 'FEE001', 1, 80000, 80000, '완료', '카드', '2024-03-06', NULL),
(84, 'FEE007', 1, 100000, 100000, '완료', '카드', '2024-03-01', '자동차보험'),
(85, 'FEE008', 1, 0, 0, '완료', NULL, '2024-03-03', '초진상담'),
(86, 'FEE003', 1, 50000, 50000, '대기', NULL, NULL, '미수금'),
(87, 'FEE008', 1, 0, 0, '완료', NULL, '2024-03-07', '초진상담');</code></pre>

<hr>

<h2>9. SOAP 노트 샘플</h2>

<pre><code>INSERT INTO soap_notes (session_id, subjective, objective, assessment, plan) VALUES
(1, '허리가 뻐근하고 앉아있으면 통증이 심해진다. 오래 앉아있는 사무직이라 힘들다.', 'ROM: 굴곡 60도, 신전 10도. 요추 4-5번 압통(+). SLR 70도.', '요추 근육 긴장 및 관절 기능 저하. 자세 문제로 인한 만성 요통 패턴.', '도수치료 주 2회, 4주간. 자세 교정 교육. 스트레칭 홈프로그램 제공.'),
(7, '허리 통증이 다리까지 내려온다. 기침할 때 더 아프다.', 'SLR 45도(+). 요추 4-5번 압통 심함. 하지 감각 정상.', '요추 추간판 탈출 의심. MRI 확인 필요. 현재 신경근 자극 증상 있음.', '도수치료 60분 주 2회. 과신전 피하기. 증상 악화시 정형외과 의뢰.'),
(19, '무릎이 시큰거리고 계단 내려갈 때 특히 아프다.', '슬관절 굴곡 120도. 신전 완전. McMurray (-). 관절선 압통(+).', '초기 퇴행성 관절염. 내측 구획 마모 의심.', '운동치료로 대퇴사두근 강화. 체중관리 권고. 주 2회 4주간.'),
(16, '팔을 들 수가 없다. 뒤로 돌리면 더 아프다.', 'AROM 외전 90도. PROM 외전 140도. Neer (+). Hawkins (+).', '유착성 관절낭염 중기. 야간통 동반.', '도수치료 주 2-3회. 관절가동술 및 스트레칭. 야간통 관리.'),
(10, '허리가 옆으로 휜 것 같다. 오래 서있으면 한쪽이 더 아프다.', 'Cobb angle 18도. Adam''s test (+). 양측 어깨 높이 차이 2cm.', '특발성 측만증. 유연성 있어 교정 가능성 높음.', '슈로스 주 2회. 호흡 패턴 교정. 비대칭 근력 강화.'),
(39, '목이 뻣뻣하고 어깨까지 결린다. 컴퓨터 작업이 많다.', 'C-spine ROM 제한. 승모근 압통(+). FHP 자세.', 'VDT 증후군. 경추-흉추 이행부 기능 저하.', '운동치료 60분 주 1회. 작업환경 개선 권고. 스트레칭 교육.');</code></pre>

<hr>

<h2>10. 데이터 검증</h2>

<pre><code>-- 테이블별 데이터 개수 확인
SELECT 'insurances' as 테이블, COUNT(*) as 개수 FROM insurances
UNION ALL SELECT 'fee_items', COUNT(*) FROM fee_items
UNION ALL SELECT 'diagnosis_codes', COUNT(*) FROM diagnosis_codes
UNION ALL SELECT 'therapists', COUNT(*) FROM therapists
UNION ALL SELECT 'patients', COUNT(*) FROM patients
UNION ALL SELECT 'patient_diagnoses', COUNT(*) FROM patient_diagnoses
UNION ALL SELECT 'treatment_sessions', COUNT(*) FROM treatment_sessions
UNION ALL SELECT 'billings', COUNT(*) FROM billings
UNION ALL SELECT 'soap_notes', COUNT(*) FROM soap_notes;

-- 예상 결과:
-- insurances: 5
-- fee_items: 8
-- diagnosis_codes: 20
-- therapists: 4
-- patients: 30
-- patient_diagnoses: 37 (일부 환자 복수 진단)
-- treatment_sessions: 87
-- billings: 87
-- soap_notes: 6</code></pre>

<hr>

<p>이 스크립트를 순서대로 실행하면 힐링손 물리치료센터의 완전한 데이터베이스가 생성됩니다.</p>

            <div class="nav-buttons">
                <button class="nav-btn" id="prevBtn">← 이전</button>
                <span class="page-num" id="pageNum"></span>
                <button class="nav-btn" id="nextBtn">다음 →</button>
            </div>
        </main>
    </div>
    <script src="../js/nav.js"></script>
</body>
</html>
