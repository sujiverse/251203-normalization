<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>5ì¥: ë¼ìš°íŒ…ê³¼ URL - ë¬¼ë¦¬ì¹˜ë£Œì‚¬ë¥¼ ìœ„í•œ DB 4ê¶Œ</title>
    <link rel="stylesheet" href="../css/style.css">
</head>
<body>
    @@include('components/top-nav.html', {"root": "../..", "activeBook": "4"})

    @@include('components/mobile-menu.html')

    <div class="container">
        <nav class="sidebar" id="sidebar">
            <button class="close-btn" onclick="toggleMenu()">Ã—</button>
            <div class="sidebar-header">
                <h1>ğŸ“• ë¬¼ë¦¬ì¹˜ë£Œì‚¬ë¥¼ ìœ„í•œ</h1>
                <p>ì›¹ ì•± ë§Œë“¤ê¸° (4ê¶Œ)</p>
            </div>
            <ul class="nav-list" id="navList"></ul>
        </nav>

        <main class="main">
            <h1 class="title">ë¼ìš°íŒ…ê³¼ URL</h1>

            <h2>ë¼ìš°íŒ…ì´ë€?</h2>

            <p>URLê³¼ í•¨ìˆ˜ë¥¼ ì—°ê²°í•˜ëŠ” ê²ƒì„ <strong>ë¼ìš°íŒ…(routing)</strong>ì´ë¼ê³  í•©ë‹ˆë‹¤.</p>

            <div class="file-tree">
URL ìš”ì²­ â†’ Flaskê°€ í•´ë‹¹ í•¨ìˆ˜ ì°¾ê¸° â†’ í•¨ìˆ˜ ì‹¤í–‰ â†’ ê²°ê³¼ ë°˜í™˜
            </div>

            <hr>

            <h2>ë™ì  URL ë§Œë“¤ê¸°</h2>

            <p>í™˜ì IDì— ë”°ë¼ ë‹¤ë¥¸ í˜ì´ì§€ë¥¼ ë³´ì—¬ì£¼ê³  ì‹¶ë‹¤ë©´?</p>

            <pre><code># ì •ì  URL (ê°ê° ë§Œë“¤ì–´ì•¼ í•¨)
@app.route('/patient/1')
@app.route('/patient/2')
@app.route('/patient/3')
# ... ìˆ˜ë°± ê°œ?

# ë™ì  URL (í•˜ë‚˜ë¡œ í•´ê²°!)
@app.route('/patient/&lt;int:patient_id&gt;')
def patient_detail(patient_id):
    return f'í™˜ì ë²ˆí˜¸: {patient_id}'</code></pre>

            <h3>URL ë³€ìˆ˜ íƒ€ì…</h3>
            <table>
                <tr>
                    <th>íƒ€ì…</th>
                    <th>ì„¤ëª…</th>
                    <th>ì˜ˆì‹œ</th>
                </tr>
                <tr>
                    <td><code>&lt;variable&gt;</code></td>
                    <td>ë¬¸ìì—´ (ê¸°ë³¸)</td>
                    <td>/user/kim</td>
                </tr>
                <tr>
                    <td><code>&lt;int:variable&gt;</code></td>
                    <td>ì •ìˆ˜</td>
                    <td>/patient/1</td>
                </tr>
                <tr>
                    <td><code>&lt;float:variable&gt;</code></td>
                    <td>ì‹¤ìˆ˜</td>
                    <td>/price/29.99</td>
                </tr>
                <tr>
                    <td><code>&lt;path:variable&gt;</code></td>
                    <td>ê²½ë¡œ (ìŠ¬ë˜ì‹œ í¬í•¨)</td>
                    <td>/file/docs/report.pdf</td>
                </tr>
            </table>

            <hr>

            <h2>ì‹¤ìŠµ: í™˜ì ìƒì„¸ í˜ì´ì§€</h2>

            <pre><code>from flask import Flask

app = Flask(__name__)

# í™˜ì ë°ì´í„° (ì„ì‹œ)
patients = {
    1: {'name': 'ê¹€ì² ìˆ˜', 'phone': '010-1234-5678'},
    2: {'name': 'ì´ì˜í¬', 'phone': '010-2345-6789'},
    3: {'name': 'ë°•ë¯¼ìˆ˜', 'phone': '010-3456-7890'},
}

@app.route('/patients')
def patient_list():
    html = '&lt;h1&gt;í™˜ì ëª©ë¡&lt;/h1&gt;&lt;ul&gt;'
    for pid, info in patients.items():
        html += f'&lt;li&gt;&lt;a href="/patients/{pid}"&gt;{info["name"]}&lt;/a&gt;&lt;/li&gt;'
    html += '&lt;/ul&gt;'
    return html

@app.route('/patients/&lt;int:patient_id&gt;')
def patient_detail(patient_id):
    if patient_id in patients:
        p = patients[patient_id]
        return f'''
        &lt;h1&gt;{p["name"]}&lt;/h1&gt;
        &lt;p&gt;ì—°ë½ì²˜: {p["phone"]}&lt;/p&gt;
        &lt;a href="/patients"&gt;â† ëª©ë¡ìœ¼ë¡œ&lt;/a&gt;
        '''
    else:
        return '&lt;h1&gt;í™˜ìë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤&lt;/h1&gt;', 404

if __name__ == '__main__':
    app.run(debug=True)</code></pre>

            <h3>í™•ì¸í•´ë³´ê¸°</h3>
            <ul>
                <li><code>/patients</code> â†’ í™˜ì ëª©ë¡</li>
                <li><code>/patients/1</code> â†’ ê¹€ì² ìˆ˜ ìƒì„¸</li>
                <li><code>/patients/2</code> â†’ ì´ì˜í¬ ìƒì„¸</li>
                <li><code>/patients/999</code> â†’ 404 ì—ëŸ¬</li>
            </ul>

            <hr>

            <h2>HTTP ë©”ì„œë“œ</h2>

            <p>ê°™ì€ URLì´ë¼ë„ ìš”ì²­ ë°©ì‹ì— ë”°ë¼ ë‹¤ë¥¸ ë™ì‘ì„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

            <table>
                <tr>
                    <th>ë©”ì„œë“œ</th>
                    <th>ìš©ë„</th>
                    <th>ì˜ˆì‹œ</th>
                </tr>
                <tr>
                    <td><code>GET</code></td>
                    <td>ë°ì´í„° ì¡°íšŒ</td>
                    <td>í™˜ì ëª©ë¡ ë³´ê¸°</td>
                </tr>
                <tr>
                    <td><code>POST</code></td>
                    <td>ë°ì´í„° ìƒì„±</td>
                    <td>ìƒˆ í™˜ì ë“±ë¡</td>
                </tr>
                <tr>
                    <td><code>PUT</code></td>
                    <td>ë°ì´í„° ìˆ˜ì •</td>
                    <td>í™˜ì ì •ë³´ ìˆ˜ì •</td>
                </tr>
                <tr>
                    <td><code>DELETE</code></td>
                    <td>ë°ì´í„° ì‚­ì œ</td>
                    <td>í™˜ì ì‚­ì œ</td>
                </tr>
            </table>

            <h3>ë©”ì„œë“œ ì§€ì •í•˜ê¸°</h3>
            <pre><code># GETë§Œ í—ˆìš© (ê¸°ë³¸ê°’)
@app.route('/patients')
def get_patients():
    return 'í™˜ì ëª©ë¡'

# GETê³¼ POST í—ˆìš©
@app.route('/patients', methods=['GET', 'POST'])
def patients():
    if request.method == 'POST':
        return 'í™˜ì ë“±ë¡ ì²˜ë¦¬'
    return 'í™˜ì ëª©ë¡'

# ì—¬ëŸ¬ ë©”ì„œë“œ ì²˜ë¦¬
@app.route('/patients/&lt;int:id&gt;', methods=['GET', 'PUT', 'DELETE'])
def patient(id):
    if request.method == 'GET':
        return f'í™˜ì {id} ì¡°íšŒ'
    elif request.method == 'PUT':
        return f'í™˜ì {id} ìˆ˜ì •'
    elif request.method == 'DELETE':
        return f'í™˜ì {id} ì‚­ì œ'</code></pre>

            <hr>

            <h2>ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°</h2>

            <p>URLì— <code>?key=value</code> í˜•íƒœë¡œ ë°ì´í„°ë¥¼ ì „ë‹¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

            <pre><code>from flask import Flask, request

app = Flask(__name__)

# /search?name=ê¹€ì² ìˆ˜
@app.route('/search')
def search():
    name = request.args.get('name', '')  # ê¸°ë³¸ê°’ ''
    return f'ê²€ìƒ‰ì–´: {name}'

# /patients?page=2&limit=10
@app.route('/patients')
def patients():
    page = request.args.get('page', 1, type=int)
    limit = request.args.get('limit', 10, type=int)
    return f'í˜ì´ì§€: {page}, í‘œì‹œ ê°œìˆ˜: {limit}'</code></pre>

            <hr>

            <h2>API URL ì„¤ê³„ ì˜ˆì‹œ</h2>

            <p>ìš°ë¦¬ í”„ë¡œì íŠ¸ì—ì„œ ì‚¬ìš©í•  URL êµ¬ì¡°ì…ë‹ˆë‹¤.</p>

            <table>
                <tr>
                    <th>ë©”ì„œë“œ</th>
                    <th>URL</th>
                    <th>ê¸°ëŠ¥</th>
                </tr>
                <tr>
                    <td>GET</td>
                    <td>/api/patients</td>
                    <td>í™˜ì ëª©ë¡</td>
                </tr>
                <tr>
                    <td>GET</td>
                    <td>/api/patients/1</td>
                    <td>í™˜ì ìƒì„¸</td>
                </tr>
                <tr>
                    <td>POST</td>
                    <td>/api/patients</td>
                    <td>í™˜ì ë“±ë¡</td>
                </tr>
                <tr>
                    <td>PUT</td>
                    <td>/api/patients/1</td>
                    <td>í™˜ì ìˆ˜ì •</td>
                </tr>
                <tr>
                    <td>DELETE</td>
                    <td>/api/patients/1</td>
                    <td>í™˜ì ì‚­ì œ</td>
                </tr>
                <tr>
                    <td>GET</td>
                    <td>/api/reservations</td>
                    <td>ì˜ˆì•½ ëª©ë¡</td>
                </tr>
                <tr>
                    <td>GET</td>
                    <td>/api/reservations?date=2024-12-01</td>
                    <td>íŠ¹ì • ë‚ ì§œ ì˜ˆì•½</td>
                </tr>
            </table>

            <hr>

            <h2>ì´ë²ˆ ì¥ ì •ë¦¬</h2>

            <ul>
                <li><code>&lt;variable&gt;</code>ë¡œ ë™ì  URLì„ ë§Œë“­ë‹ˆë‹¤</li>
                <li><code>&lt;int:id&gt;</code>ë¡œ íƒ€ì…ì„ ì§€ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤</li>
                <li><code>methods=['GET', 'POST']</code>ë¡œ HTTP ë©”ì„œë“œë¥¼ ì§€ì •í•©ë‹ˆë‹¤</li>
                <li><code>request.args.get()</code>ìœ¼ë¡œ ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°ë¥¼ ë°›ìŠµë‹ˆë‹¤</li>
            </ul>

            <blockquote>ë‹¤ìŒ ì¥ì—ì„œëŠ” JSON ì‘ë‹µì„ ë§Œë“œëŠ” ë°©ë²•ì„ ë°°ì›ë‹ˆë‹¤. APIì˜ í•µì‹¬!</blockquote>

            <div class="nav-buttons">
                <button class="nav-btn" id="prevBtn">â† ì´ì „</button>
                <span class="page-num" id="pageNum"></span>
                <button class="nav-btn" id="nextBtn">ë‹¤ìŒ â†’</button>
            </div>
        </main>
    </div>
    <script src="../js/nav.js"></script>
</body>
</html>
