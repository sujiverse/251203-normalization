<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>13ì¥: JavaScript í•µì‹¬ - ë¬¼ë¦¬ì¹˜ë£Œì‚¬ë¥¼ ìœ„í•œ DB 4ê¶Œ</title>
    <link rel="stylesheet" href="../css/style.css">
</head>
<body>
    @@include('components/top-nav.html', {"root": "../..", "activeBook": "4"})

    @@include('components/mobile-menu.html')

    <div class="container">
        <nav class="sidebar" id="sidebar">
            <button class="close-btn" onclick="toggleMenu()">Ã—</button>
            <div class="sidebar-header">
                <h1>ğŸ“• ë¬¼ë¦¬ì¹˜ë£Œì‚¬ë¥¼ ìœ„í•œ</h1>
                <p>ì›¹ ì•± ë§Œë“¤ê¸° (4ê¶Œ)</p>
            </div>
            <ul class="nav-list" id="navList"></ul>
        </nav>

        <main class="main">
            <h1 class="title">JavaScript í•µì‹¬</h1>

            <h2>JavaScriptë€?</h2>

            <p>JavaScriptëŠ” ì›¹ í˜ì´ì§€ì— <strong>ë™ì‘</strong>ì„ ì¶”ê°€í•©ë‹ˆë‹¤. ë²„íŠ¼ í´ë¦­, ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸°, í™”ë©´ ì—…ë°ì´íŠ¸ ë“±.</p>

            <hr>

            <h2>ë³€ìˆ˜ì™€ ìë£Œí˜•</h2>

            <pre><code>// ë³€ìˆ˜ ì„ ì–¸
let name = 'ê¹€ì² ìˆ˜';      // ë³€ê²½ ê°€ëŠ¥
const PI = 3.14;          // ìƒìˆ˜ (ë³€ê²½ ë¶ˆê°€)

// ìë£Œí˜•
let text = 'ë¬¸ìì—´';
let number = 42;
let decimal = 3.14;
let isActive = true;       // ë¶ˆë¦¬ì–¸
let items = [1, 2, 3];     // ë°°ì—´
let patient = {            // ê°ì²´
    name: 'ê¹€ì² ìˆ˜',
    age: 35
};</code></pre>

            <hr>

            <h2>í•¨ìˆ˜</h2>

            <pre><code>// í•¨ìˆ˜ ì„ ì–¸
function sayHello(name) {
    return 'ì•ˆë…•í•˜ì„¸ìš”, ' + name + 'ë‹˜!';
}

// í™”ì‚´í‘œ í•¨ìˆ˜ (ê°„ê²°í•œ ë¬¸ë²•)
const add = (a, b) => a + b;

// ì‚¬ìš©
console.log(sayHello('ê¹€ì² ìˆ˜'));  // ì•ˆë…•í•˜ì„¸ìš”, ê¹€ì² ìˆ˜ë‹˜!
console.log(add(1, 2));           // 3</code></pre>

            <hr>

            <h2>DOM ì¡°ì‘</h2>

            <p>DOM(Document Object Model)ì€ HTMLì„ JavaScriptë¡œ ì œì–´í•˜ëŠ” ë°©ë²•ì…ë‹ˆë‹¤.</p>

            <pre><code>// ìš”ì†Œ ì„ íƒ
const title = document.getElementById('title');
const buttons = document.querySelectorAll('.btn');
const firstButton = document.querySelector('.btn');

// ë‚´ìš© ë³€ê²½
title.textContent = 'ìƒˆë¡œìš´ ì œëª©';
title.innerHTML = '&lt;strong&gt;êµµì€ ì œëª©&lt;/strong&gt;';

// ìŠ¤íƒ€ì¼ ë³€ê²½
title.style.color = 'red';
title.style.fontSize = '24px';

// í´ë˜ìŠ¤ ì¡°ì‘
title.classList.add('active');
title.classList.remove('hidden');
title.classList.toggle('selected');</code></pre>

            <hr>

            <h2>ì´ë²¤íŠ¸ ì²˜ë¦¬</h2>

            <pre><code>// ë²„íŠ¼ í´ë¦­
const btn = document.getElementById('myButton');
btn.addEventListener('click', function() {
    alert('í´ë¦­ë˜ì—ˆìŠµë‹ˆë‹¤!');
});

// í™”ì‚´í‘œ í•¨ìˆ˜ë¡œ
btn.addEventListener('click', () => {
    console.log('í´ë¦­!');
});

// í¼ ì œì¶œ
const form = document.getElementById('myForm');
form.addEventListener('submit', (e) => {
    e.preventDefault();  // ê¸°ë³¸ ë™ì‘ ë°©ì§€
    // í¼ ì²˜ë¦¬ ë¡œì§
});</code></pre>

            <h3>ìì£¼ ì“°ëŠ” ì´ë²¤íŠ¸</h3>
            <table>
                <tr>
                    <th>ì´ë²¤íŠ¸</th>
                    <th>ì„¤ëª…</th>
                </tr>
                <tr>
                    <td>click</td>
                    <td>í´ë¦­</td>
                </tr>
                <tr>
                    <td>submit</td>
                    <td>í¼ ì œì¶œ</td>
                </tr>
                <tr>
                    <td>change</td>
                    <td>ê°’ ë³€ê²½</td>
                </tr>
                <tr>
                    <td>input</td>
                    <td>ì…ë ¥ ì¤‘</td>
                </tr>
                <tr>
                    <td>keydown</td>
                    <td>í‚¤ ëˆ„ë¦„</td>
                </tr>
                <tr>
                    <td>load</td>
                    <td>ë¡œë“œ ì™„ë£Œ</td>
                </tr>
            </table>

            <hr>

            <h2>ë°°ì—´ ë©”ì„œë“œ</h2>

            <pre><code>const patients = [
    { id: 1, name: 'ê¹€ì² ìˆ˜', age: 35 },
    { id: 2, name: 'ì´ì˜í¬', age: 28 },
    { id: 3, name: 'ë°•ë¯¼ìˆ˜', age: 42 }
];

// forEach - ê° í•­ëª©ì— ëŒ€í•´ ì‹¤í–‰
patients.forEach(p => {
    console.log(p.name);
});

// map - ë³€í™˜ëœ ìƒˆ ë°°ì—´ ìƒì„±
const names = patients.map(p => p.name);
// ['ê¹€ì² ìˆ˜', 'ì´ì˜í¬', 'ë°•ë¯¼ìˆ˜']

// filter - ì¡°ê±´ì— ë§ëŠ” í•­ëª©ë§Œ
const over30 = patients.filter(p => p.age > 30);
// [{id:1, ...}, {id:3, ...}]

// find - ì¡°ê±´ì— ë§ëŠ” ì²« í•­ëª©
const found = patients.find(p => p.id === 2);
// {id: 2, name: 'ì´ì˜í¬', age: 28}</code></pre>

            <hr>

            <h2>ë¹„ë™ê¸° ì²˜ë¦¬ (async/await)</h2>

            <pre><code>// API í˜¸ì¶œ (ë¹„ë™ê¸°)
async function getPatients() {
    try {
        const response = await fetch('/api/patients');
        const data = await response.json();
        console.log(data);
        return data;
    } catch (error) {
        console.error('ì—ëŸ¬:', error);
    }
}

// ì‚¬ìš©
getPatients().then(data => {
    // ë°ì´í„° ì‚¬ìš©
});</code></pre>

            <div class="tip"><strong>ğŸ’¡ async/await</strong><br>
            <code>async</code> í•¨ìˆ˜ ì•ˆì—ì„œ <code>await</code>ë¥¼ ì‚¬ìš©í•˜ë©´ ë¹„ë™ê¸° ì½”ë“œë¥¼ ë™ê¸°ì²˜ëŸ¼ ì½ê¸° ì‰½ê²Œ ì‘ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</div>

            <hr>

            <h2>ì‹¤ì „ ì˜ˆì œ: í…Œì´ë¸” ì±„ìš°ê¸°</h2>

            <pre><code>// APIì—ì„œ ë°ì´í„° ê°€ì ¸ì™€ì„œ í…Œì´ë¸”ì— í‘œì‹œ
async function loadPatientTable() {
    const response = await fetch('/api/patients');
    const result = await response.json();

    const tbody = document.querySelector('#patientTable tbody');
    tbody.innerHTML = '';  // ê¸°ì¡´ ë‚´ìš© ì œê±°

    result.data.forEach(patient => {
        const tr = document.createElement('tr');
        tr.innerHTML = `
            &lt;td&gt;${patient.patient_id}&lt;/td&gt;
            &lt;td&gt;${patient.name}&lt;/td&gt;
            &lt;td&gt;${patient.phone}&lt;/td&gt;
            &lt;td&gt;
                &lt;button onclick="editPatient(${patient.patient_id})"&gt;ìˆ˜ì •&lt;/button&gt;
                &lt;button onclick="deletePatient(${patient.patient_id})"&gt;ì‚­ì œ&lt;/button&gt;
            &lt;/td&gt;
        `;
        tbody.appendChild(tr);
    });
}

// í˜ì´ì§€ ë¡œë“œ ì‹œ ì‹¤í–‰
document.addEventListener('DOMContentLoaded', loadPatientTable);</code></pre>

            <hr>

            <h2>ì´ë²ˆ ì¥ ì •ë¦¬</h2>

            <ul>
                <li>ë³€ìˆ˜: <code>let</code>, <code>const</code>ë¡œ ì„ ì–¸</li>
                <li>í•¨ìˆ˜: <code>function</code> ë˜ëŠ” í™”ì‚´í‘œ í•¨ìˆ˜ <code>() => {}</code></li>
                <li>DOM: <code>querySelector</code>ë¡œ ì„ íƒ, ë‚´ìš©/ìŠ¤íƒ€ì¼ ë³€ê²½</li>
                <li>ì´ë²¤íŠ¸: <code>addEventListener</code>ë¡œ ë™ì‘ ì—°ê²°</li>
                <li>ë¹„ë™ê¸°: <code>async/await</code>ë¡œ API í˜¸ì¶œ</li>
            </ul>

            <blockquote>ë‹¤ìŒ ì¥ì—ì„œëŠ” fetchë¡œ APIë¥¼ í˜¸ì¶œí•˜ëŠ” ë°©ë²•ì„ ë” ìì„¸íˆ ë°°ì›ë‹ˆë‹¤!</blockquote>

            <div class="nav-buttons">
                <button class="nav-btn" id="prevBtn">â† ì´ì „</button>
                <span class="page-num" id="pageNum"></span>
                <button class="nav-btn" id="nextBtn">ë‹¤ìŒ â†’</button>
            </div>
        </main>
    </div>
    <script src="../js/nav.js"></script>
</body>
</html>
