<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[1장] 엑셀이 연구를 망치는 이유 - 연구 데이터 설계</title>
    <link rel="stylesheet" href="../css/style.css">
</head>
<body>
    <nav class="top-nav">
        <a href="../../index.html" class="top-nav-brand"><span>📊</span> 연구 데이터 설계</a>
        <div class="top-nav-links">
            <a href="../../book-1/index.html" class="top-nav-link book-1">1권</a>
            <a href="../../book-2/index.html" class="top-nav-link book-2">2권</a>
            <a href="../../book-3/index.html" class="top-nav-link book-3">3권</a>
            <a href="../../book-4/index.html" class="top-nav-link book-4">4권</a>
            <a href="../../book-5/index.html" class="top-nav-link book-5">5권</a>
            <a href="../../book-6/index.html" class="top-nav-link book-6 active">6권</a>
        </div>
    </nav>
    <button class="menu-toggle" onclick="toggleMenu()">☰</button>
    <div class="overlay" id="overlay" onclick="toggleMenu()"></div>
    <div class="container">
        <nav class="sidebar" id="sidebar">
            <button class="close-btn" onclick="toggleMenu()">×</button>
            <div class="sidebar-header"><h1>📘 6권: 연구 데이터 설계</h1><p>변수부터 회귀분석까지</p></div>
            <ul class="nav-list" id="navList"></ul>
        </nav>
        <main class="main">
            <div class="part-header">1부: 연구와 데이터의 기초</div>
            <h1 class="title">[1장] 엑셀이 연구를 망치는 이유</h1>

            <div class="intro-box">
                <p>이 장에서는 왜 엑셀이 연구 데이터 관리에 적합하지 않은지, 그리고 <strong>어떤 구조로 데이터를 저장해야 분석이 쉬워지는지</strong>를 배웁니다.</p>
            </div>

            <hr>

            <h2>1. 연구자의 흔한 고통</h2>

            <p>많은 연구자가 엑셀로 데이터를 관리합니다. 익숙하고 직관적이기 때문입니다. 그러나 연구 규모가 커지면 다음 문제들이 발생합니다.</p>

            <div class="concept-box">
                <h3>파일 버전 관리 혼란</h3>
                <p>연구가 진행되면 파일이 늘어납니다:</p>
                <ul>
                    <li><code>data_final.xlsx</code></li>
                    <li><code>data_final_v2.xlsx</code></li>
                    <li><code>data_final_v2_수정.xlsx</code></li>
                    <li><code>data_final_진짜최종.xlsx</code></li>
                </ul>
                <p>어떤 파일이 최신인지, 어떤 변경이 있었는지 파악하기 어렵습니다.</p>
            </div>

            <div class="concept-box">
                <h3>분석할 때마다 재정리</h3>
                <p>SPSS나 R로 분석하려면 엑셀 데이터를 다시 정리해야 합니다:</p>
                <ul>
                    <li>빈 행/열 삭제</li>
                    <li>병합 셀 해제</li>
                    <li>변수명 영문 변환</li>
                    <li>결측값 코드 통일</li>
                </ul>
                <p>같은 정리 작업을 분석할 때마다 반복합니다.</p>
            </div>

            <div class="concept-box">
                <h3>협업 시 데이터 불일치</h3>
                <p>여러 명이 같은 데이터를 다룰 때:</p>
                <ul>
                    <li>누가 무엇을 수정했는지 모름</li>
                    <li>서로 다른 버전의 파일을 분석</li>
                    <li>변수 코딩 방식이 달라짐</li>
                </ul>
            </div>

            <hr>

            <h2>2. Wide vs Long 형식</h2>

            <p>데이터 형식은 분석 방법을 결정합니다. 엑셀 사용자는 주로 Wide 형식을 사용하지만, 통계 분석에는 Long 형식이 유리합니다.</p>

            <div class="concept-box">
                <h3>Wide 형식 (넓은 형식)</h3>
                <p>한 참가자의 모든 측정값이 한 행에 있습니다:</p>
                <div class="table-container">
                    <table>
                        <thead>
                            <tr><th>ID</th><th>사전점수</th><th>사후점수</th><th>추후점수</th></tr>
                        </thead>
                        <tbody>
                            <tr><td>1</td><td>65</td><td>78</td><td>75</td></tr>
                            <tr><td>2</td><td>70</td><td>82</td><td>80</td></tr>
                            <tr><td>3</td><td>58</td><td>71</td><td>68</td></tr>
                        </tbody>
                    </table>
                </div>
                <p><strong>문제점:</strong></p>
                <ul>
                    <li>시점이 추가되면 열을 계속 추가해야 함</li>
                    <li>시점별 분석에 피벗이 필요함</li>
                    <li>반복측정 ANOVA 등 분석 도구가 Long 형식을 요구함</li>
                </ul>
            </div>

            <div class="concept-box">
                <h3>Long 형식 (긴 형식)</h3>
                <p>각 측정이 별도의 행으로 저장됩니다:</p>
                <div class="table-container">
                    <table>
                        <thead>
                            <tr><th>ID</th><th>시점</th><th>점수</th></tr>
                        </thead>
                        <tbody>
                            <tr><td>1</td><td>사전</td><td>65</td></tr>
                            <tr><td>1</td><td>사후</td><td>78</td></tr>
                            <tr><td>1</td><td>추후</td><td>75</td></tr>
                            <tr><td>2</td><td>사전</td><td>70</td></tr>
                            <tr><td>2</td><td>사후</td><td>82</td></tr>
                            <tr><td>2</td><td>추후</td><td>80</td></tr>
                        </tbody>
                    </table>
                </div>
                <p><strong>장점:</strong></p>
                <ul>
                    <li>시점 추가 시 행만 추가하면 됨</li>
                    <li>GROUP BY로 시점별 통계 계산 가능</li>
                    <li>대부분의 통계 분석 함수가 이 형식을 요구함</li>
                </ul>
            </div>

            <div class="explanation-box">
                <h3>핵심 원칙</h3>
                <p><strong>Tidy Data 원칙:</strong> 각 변수는 열(column), 각 관측은 행(row), 각 값은 셀(cell)에 저장합니다. 이 원칙을 따르면 Long 형식이 됩니다.</p>
            </div>

            <hr>

            <h2>3. 복붙의 저주: 데이터 불일치</h2>

            <p>엑셀에서는 같은 정보를 여러 곳에 복사해서 사용합니다. 이것이 데이터 불일치의 원인입니다.</p>

            <div class="concept-box">
                <h3>문제 상황</h3>
                <p>참가자 정보가 여러 시트에 중복 저장된 경우:</p>

                <p><strong>시트1: 기본정보</strong></p>
                <div class="table-container">
                    <table>
                        <thead><tr><th>ID</th><th>이름</th><th>나이</th><th>성별</th></tr></thead>
                        <tbody>
                            <tr><td>1</td><td>김철수</td><td>25</td><td>남</td></tr>
                        </tbody>
                    </table>
                </div>

                <p><strong>시트2: 검사결과</strong></p>
                <div class="table-container">
                    <table>
                        <thead><tr><th>ID</th><th>이름</th><th>검사점수</th></tr></thead>
                        <tbody>
                            <tr><td>1</td><td>김철수</td><td>85</td></tr>
                        </tbody>
                    </table>
                </div>

                <p>나중에 이름이 "김철호"로 수정되어야 할 때, 시트1만 수정하고 시트2는 잊어버리면 불일치가 발생합니다.</p>
            </div>

            <div class="concept-box">
                <h3>정규화된 구조</h3>
                <p>데이터베이스에서는 정보를 한 곳에만 저장하고, ID로 연결합니다:</p>

                <p><strong>participants 테이블</strong></p>
                <div class="table-container">
                    <table>
                        <thead><tr><th>id</th><th>name</th><th>age</th><th>gender</th></tr></thead>
                        <tbody>
                            <tr><td>1</td><td>김철수</td><td>25</td><td>M</td></tr>
                        </tbody>
                    </table>
                </div>

                <p><strong>assessments 테이블</strong></p>
                <div class="table-container">
                    <table>
                        <thead><tr><th>id</th><th>participant_id</th><th>score</th></tr></thead>
                        <tbody>
                            <tr><td>1</td><td>1</td><td>85</td></tr>
                        </tbody>
                    </table>
                </div>

                <p>이름을 수정하면 participants 테이블 한 곳만 바꾸면 됩니다. assessments는 participant_id로 연결되어 있어 자동으로 최신 정보를 참조합니다.</p>
            </div>

            <hr>

            <h2>4. 재현 불가능한 분석</h2>

            <p>과학 연구의 핵심 원칙 중 하나는 <strong>재현 가능성(Reproducibility)</strong>입니다. 같은 데이터로 같은 분석을 하면 같은 결과가 나와야 합니다.</p>

            <div class="concept-box">
                <h3>엑셀 수작업의 문제</h3>
                <ul>
                    <li><strong>기록이 남지 않음:</strong> 어떤 셀을 어떻게 수정했는지 추적 불가</li>
                    <li><strong>필터/정렬 오류:</strong> 일부 열만 선택하고 정렬하면 데이터 행이 엉킴</li>
                    <li><strong>수식 참조 오류:</strong> 행을 삭제/추가하면 수식 범위가 깨짐</li>
                    <li><strong>반복 불가:</strong> "어디서 뭘 했는지" 6개월 후에 기억 못함</li>
                </ul>
            </div>

            <div class="concept-box">
                <h3>실제 사례: 유전자 이름 오류</h3>
                <p>2016년 Genome Biology 저널에 발표된 연구에 따르면, 유전체 연구 논문의 약 20%에서 엑셀의 자동 변환으로 인한 오류가 발견되었습니다.</p>
                <ul>
                    <li><code>SEPT2</code> (유전자명) → <code>2-Sep</code> (날짜로 변환)</li>
                    <li><code>MARCH1</code> (유전자명) → <code>1-Mar</code> (날짜로 변환)</li>
                </ul>
                <p>이 문제로 인해 일부 유전자는 아예 이름이 변경되었습니다 (SEPT → SEPTIN).</p>
            </div>

            <div class="concept-box">
                <h3>코드 기반 분석</h3>
                <p>SQL, R, Python으로 분석하면:</p>
                <ul>
                    <li><strong>모든 과정이 코드로 기록됨:</strong> 누가 봐도 같은 결과 재현 가능</li>
                    <li><strong>원본 데이터 보존:</strong> 가공된 데이터는 별도 생성</li>
                    <li><strong>버전 관리 가능:</strong> Git으로 변경 이력 추적</li>
                </ul>
                <div class="sql-box">
                    <pre>-- 이 쿼리는 누가 실행해도 같은 결과를 반환합니다
SELECT
    gender,
    AVG(score) as mean_score,
    COUNT(*) as n
FROM assessments a
JOIN participants p ON a.participant_id = p.id
GROUP BY gender;</pre>
                </div>
            </div>

            <hr>

            <h2>5. 데이터베이스가 해결책인 이유</h2>

            <p>데이터베이스는 위의 모든 문제를 구조적으로 해결합니다.</p>

            <div class="comparison-table">
                <table>
                    <thead>
                        <tr><th>문제</th><th>엑셀</th><th>데이터베이스</th></tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>버전 관리</td>
                            <td>파일 복사, 이름 변경</td>
                            <td>단일 DB, 변경 이력 추적</td>
                        </tr>
                        <tr>
                            <td>데이터 불일치</td>
                            <td>복붙으로 중복 발생</td>
                            <td>정규화로 한 곳에만 저장</td>
                        </tr>
                        <tr>
                            <td>데이터 형식</td>
                            <td>Wide 형식 선호</td>
                            <td>Long 형식 자연스러움</td>
                        </tr>
                        <tr>
                            <td>재현 가능성</td>
                            <td>수작업, 기록 없음</td>
                            <td>SQL 쿼리로 기록</td>
                        </tr>
                        <tr>
                            <td>데이터 무결성</td>
                            <td>제약 없음</td>
                            <td>타입, 범위, 참조 제약</td>
                        </tr>
                        <tr>
                            <td>협업</td>
                            <td>파일 공유, 충돌</td>
                            <td>동시 접근, 권한 관리</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="concept-box">
                <h3>이 책에서 배울 내용</h3>
                <ol>
                    <li><strong>연구 설계 이해:</strong> 횡단, 종단, 실험, 설문, 혼합 연구</li>
                    <li><strong>변수 유형 파악:</strong> 독립/종속/통제/매개/조절/혼입 변수</li>
                    <li><strong>측정 수준 구분:</strong> 명목/서열/등간/비율 척도</li>
                    <li><strong>테이블 설계:</strong> 정규화, 관계, 키</li>
                    <li><strong>통계 분석 연계:</strong> 기술통계, t-test, ANOVA, 상관, 회귀</li>
                    <li><strong>도구 연동:</strong> SPSS, R, Python과 DB 연결</li>
                </ol>
            </div>

            <div class="summary-box">
                <h3>📝 이 장의 핵심 정리</h3>
                <table>
                    <thead>
                        <tr><th>개념</th><th>설명</th></tr>
                    </thead>
                    <tbody>
                        <tr><td>Wide 형식</td><td>한 행에 모든 시점 데이터, 열이 늘어남</td></tr>
                        <tr><td>Long 형식</td><td>각 측정이 별도 행, 통계 분석에 적합</td></tr>
                        <tr><td>정규화</td><td>중복 제거, 한 곳에만 저장하고 ID로 연결</td></tr>
                        <tr><td>재현 가능성</td><td>같은 데이터 + 같은 분석 = 같은 결과</td></tr>
                        <tr><td>Tidy Data</td><td>변수=열, 관측=행, 값=셀</td></tr>
                    </tbody>
                </table>
            </div>

            <div class="nav-buttons">
                <a href="../index.html" class="nav-btn">← 이전</a>
                <span class="page-num">1 / 20</span>
                <a href="chapter-2.html" class="nav-btn">다음 →</a>
            </div>
        </main>
    </div>
    <script src="../js/nav.js"></script>
</body>
</html>
