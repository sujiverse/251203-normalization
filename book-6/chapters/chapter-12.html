<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[12ì¥] ì‹¤í—˜ ì—°êµ¬ - ì—°êµ¬ ë°ì´í„° ì„¤ê³„</title>
    <link rel="stylesheet" href="../css/style.css">
</head>
<body>
    <nav class="top-nav">
        <a href="../../index.html" class="top-nav-brand"><span>ğŸ“Š</span> ì—°êµ¬ ë°ì´í„° ì„¤ê³„</a>
        <div class="top-nav-links">
            <a href="../../book-1/index.html" class="top-nav-link book-1">1ê¶Œ</a>
            <a href="../../book-2/index.html" class="top-nav-link book-2">2ê¶Œ</a>
            <a href="../../book-3/index.html" class="top-nav-link book-3">3ê¶Œ</a>
            <a href="../../book-4/index.html" class="top-nav-link book-4">4ê¶Œ</a>
            <a href="../../book-5/index.html" class="top-nav-link book-5">5ê¶Œ</a>
            <a href="../../book-6/index.html" class="top-nav-link book-6 active">6ê¶Œ</a>
        </div>
    </nav>
    <button class="menu-toggle" onclick="toggleMenu()">â˜°</button>
    <div class="overlay" id="overlay" onclick="toggleMenu()"></div>
    <div class="container">
        <nav class="sidebar" id="sidebar">
            <button class="close-btn" onclick="toggleMenu()">Ã—</button>
            <div class="sidebar-header"><h1>ğŸ“˜ 6ê¶Œ: ì—°êµ¬ ë°ì´í„° ì„¤ê³„</h1><p>ë³€ìˆ˜ë¶€í„° íšŒê·€ë¶„ì„ê¹Œì§€</p></div>
            <ul class="nav-list" id="navList"></ul>
        </nav>
        <main class="main">
            <div class="part-header">3ë¶€: ì—°êµ¬ í˜•íƒœë³„ DB ì„¤ê³„</div>
            <h1 class="title">[12ì¥] ì‹¤í—˜ ì—°êµ¬ (Experimental)</h1>

            <div class="intro-box">
                <p>ì´ ì¥ì—ì„œëŠ” <strong>ì¡°ê±´ì„ ì¡°ì‘í•˜ëŠ” ì‹¤í—˜ ì—°êµ¬</strong>ì˜ DB ì„¤ê³„ë¥¼ ë°°ì›ë‹ˆë‹¤. í”¼í—˜ìê°„, í”¼í—˜ìë‚´, í˜¼í•© ì„¤ê³„ë¥¼ ëª¨ë‘ ë‹¤ë£¨ê³ , ë¬´ì„ í™”ì™€ ì—­ê· í˜•í™” ì •ë³´ ì €ì¥ ë°©ë²•ë„ ë°°ì›ë‹ˆë‹¤.</p>
            </div>

            <hr>

            <h2>1. ì‹¤í—˜ ì„¤ê³„ì˜ ê¸°ë³¸</h2>

            <h3>1.1 ì‹¤í—˜ ì—°êµ¬ë€?</h3>

            <div class="concept-box">
                <h3>ğŸ“– ì‹¤í—˜ ì—°êµ¬ì˜ í•µì‹¬ ìš”ì†Œ</h3>
                <p><strong>ì‹¤í—˜ ì—°êµ¬(Experimental Study)</strong>ëŠ” ì—°êµ¬ìê°€ <strong>ë…ë¦½ë³€ìˆ˜ë¥¼ ì˜ë„ì ìœ¼ë¡œ ì¡°ì‘</strong>í•˜ê³ , ê·¸ ê²°ê³¼ë¥¼ ì¸¡ì •í•˜ëŠ” ì—°êµ¬ ì„¤ê³„ì…ë‹ˆë‹¤.</p>
                <ul>
                    <li><strong>ë…ë¦½ë³€ìˆ˜ ì¡°ì‘</strong>: ì²˜ì¹˜(treatment)ì˜ ìœ ë¬´ë‚˜ ì¢…ë¥˜ë¥¼ ì—°êµ¬ìê°€ ê²°ì •</li>
                    <li><strong>ë¬´ì„  í• ë‹¹</strong>: ì°¸ê°€ìë¥¼ ì¡°ê±´ì— ë¬´ì‘ìœ„ë¡œ ë°°ì •</li>
                    <li><strong>í†µì œ</strong>: ì™¸ìƒë³€ìˆ˜ì˜ ì˜í–¥ ìµœì†Œí™”</li>
                </ul>
                <p><strong>ëª©ì </strong>: ì¸ê³¼ê´€ê³„ ì¶”ë¡  (Aê°€ Bë¥¼ ìœ ë°œí•˜ëŠ”ê°€?)</p>
            </div>

            <h3>1.2 ì‹¤í—˜ vs ê´€ì°° ì—°êµ¬</h3>

            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>íŠ¹ì„±</th>
                            <th>ì‹¤í—˜ ì—°êµ¬</th>
                            <th>ê´€ì°° ì—°êµ¬</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>ë…ë¦½ë³€ìˆ˜</td>
                            <td>ì—°êµ¬ìê°€ ì¡°ì‘</td>
                            <td>ìì—° ë°œìƒ</td>
                        </tr>
                        <tr>
                            <td>ì§‘ë‹¨ í• ë‹¹</td>
                            <td>ë¬´ì‘ìœ„</td>
                            <td>ìê¸° ì„ íƒ ë˜ëŠ” ê¸°ì¡´ íŠ¹ì„±</td>
                        </tr>
                        <tr>
                            <td>ì¸ê³¼ê´€ê³„</td>
                            <td>ì¶”ë¡  ê°€ëŠ¥</td>
                            <td>ì œí•œì </td>
                        </tr>
                        <tr>
                            <td>ì˜ˆì‹œ</td>
                            <td>ìš´ë™ í”„ë¡œê·¸ë¨ íš¨ê³¼ ê²€ì¦</td>
                            <td>ìš´ë™ëŸ‰ê³¼ ê±´ê°•ì˜ ê´€ê³„ ì¡°ì‚¬</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <h3>1.3 ì‹¤í—˜ ì„¤ê³„ ìœ í˜•</h3>

            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>ì„¤ê³„</th>
                            <th>ì˜ë¬¸</th>
                            <th>íŠ¹ì§•</th>
                            <th>DB êµ¬ì¡°</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>í”¼í—˜ìê°„ ì„¤ê³„</td>
                            <td>Between-subjects</td>
                            <td>ê° ì°¸ê°€ìê°€ í•œ ì¡°ê±´ë§Œ ê²½í—˜</td>
                            <td>group ì»¬ëŸ¼</td>
                        </tr>
                        <tr>
                            <td>í”¼í—˜ìë‚´ ì„¤ê³„</td>
                            <td>Within-subjects</td>
                            <td>ëª¨ë“  ì°¸ê°€ìê°€ ëª¨ë“  ì¡°ê±´ ê²½í—˜</td>
                            <td>Long format (ì¡°ê±´ë³„ í–‰)</td>
                        </tr>
                        <tr>
                            <td>í˜¼í•© ì„¤ê³„</td>
                            <td>Mixed Design</td>
                            <td>ë‘ ìœ í˜• ê²°í•©</td>
                            <td>group + ë°˜ë³µì¸¡ì •</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <hr>

            <h2>2. í”¼í—˜ìê°„ ì„¤ê³„ (Between-subjects)</h2>

            <div class="concept-box">
                <h3>ğŸ“– í”¼í—˜ìê°„ ì„¤ê³„</h3>
                <p><strong>ì •ì˜</strong>: ê° ì°¸ê°€ìê°€ <strong>í•˜ë‚˜ì˜ ì¡°ê±´</strong>ì—ë§Œ ì°¸ì—¬í•˜ëŠ” ì„¤ê³„</p>
                <p><strong>ì˜ˆì‹œ</strong>: ìš´ë™êµ° vs ëŒ€ì¡°êµ°, ì¹˜ë£ŒA vs ì¹˜ë£ŒB vs ìœ„ì•½</p>
            </div>

            <h3>2.1 ì¥ì ê³¼ ë‹¨ì </h3>

            <div class="table-container">
                <table>
                    <thead>
                        <tr><th>ì¥ì </th><th>ë‹¨ì </th></tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>ìˆœì„œ íš¨ê³¼ ì—†ìŒ (ì—°ìŠµ, í”¼ë¡œ)</td>
                            <td>ê°œì¸ì°¨ê°€ ì˜¤ì°¨ì— í¬í•¨</td>
                        </tr>
                        <tr>
                            <td>ì§§ì€ ì‹¤í—˜ ì‹œê°„</td>
                            <td>ë” ë§ì€ ì°¸ê°€ì í•„ìš”</td>
                        </tr>
                        <tr>
                            <td>ì¡°ê±´ ê°„ ê°„ì„­ ì—†ìŒ</td>
                            <td>ì§‘ë‹¨ ê°„ ë™ì§ˆì„± í™•ë³´ í•„ìš”</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <h3>2.2 DB êµ¬ì¡°</h3>

            <div class="sql-box">
                <h3>ğŸ’» í”¼í—˜ìê°„ ì„¤ê³„ í…Œì´ë¸”</h3>
                <pre><code>-- ê°„ë‹¨í•œ ë‘ ì§‘ë‹¨ ë¹„êµ (ìš´ë™êµ° vs ëŒ€ì¡°êµ°)
CREATE TABLE between_subjects_study (
    participant_id TEXT PRIMARY KEY,
    enrollment_date DATE NOT NULL,

    -- ì§‘ë‹¨ í• ë‹¹
    group_code TEXT NOT NULL CHECK (group_code IN ('exercise', 'control')),
    randomization_date DATE,
    randomization_method TEXT,  -- 'simple', 'stratified', 'block'

    -- ì¸êµ¬í†µê³„ (ê³µë³€ëŸ‰)
    age INTEGER,
    gender TEXT,

    -- ì‚¬ì „ ì¸¡ì •
    pre_pain INTEGER,
    pre_function INTEGER,

    -- ì‚¬í›„ ì¸¡ì •
    post_pain INTEGER,
    post_function INTEGER
);

-- ì§‘ë‹¨ë³„ ê¸°ìˆ í†µê³„
SELECT
    group_code,
    COUNT(*) AS n,
    ROUND(AVG(pre_pain), 1) AS pre_pain_mean,
    ROUND(AVG(post_pain), 1) AS post_pain_mean,
    ROUND(AVG(pre_pain - post_pain), 1) AS pain_change
FROM between_subjects_study
GROUP BY group_code;</code></pre>
            </div>

            <div class="sql-box">
                <h3>ğŸ’» ë‹¤ì§‘ë‹¨ ë¹„êµ (3ê°œ ì´ìƒ ì¡°ê±´)</h3>
                <pre><code>-- ì¡°ê±´ ì •ì˜ í…Œì´ë¸”
CREATE TABLE conditions (
    condition_id INTEGER PRIMARY KEY,
    condition_code TEXT NOT NULL UNIQUE,
    condition_name TEXT,
    description TEXT
);

INSERT INTO conditions VALUES
(1, 'CONTROL', 'ëŒ€ì¡°êµ°', 'í‰ì†Œ í™œë™ ìœ ì§€'),
(2, 'EX_LOW', 'ì €ê°•ë„ ìš´ë™', 'ì£¼ 2íšŒ 30ë¶„'),
(3, 'EX_HIGH', 'ê³ ê°•ë„ ìš´ë™', 'ì£¼ 4íšŒ 60ë¶„');

-- ì°¸ê°€ì í…Œì´ë¸”
CREATE TABLE participants_between (
    participant_id TEXT PRIMARY KEY,
    condition_id INTEGER NOT NULL,
    randomization_date DATE,
    age INTEGER,
    gender TEXT,
    FOREIGN KEY (condition_id) REFERENCES conditions(condition_id)
);

-- ì¸¡ì • í…Œì´ë¸”
CREATE TABLE measurements_between (
    measurement_id INTEGER PRIMARY KEY,
    participant_id TEXT NOT NULL,
    measurement_date DATE NOT NULL,
    time_point TEXT CHECK (time_point IN ('pre', 'post')),
    pain_vas INTEGER,
    function_score INTEGER,
    strength_kg DECIMAL(4,1),
    FOREIGN KEY (participant_id) REFERENCES participants_between(participant_id)
);</code></pre>
            </div>

            <hr>

            <h2>3. í”¼í—˜ìë‚´ ì„¤ê³„ (Within-subjects)</h2>

            <div class="concept-box">
                <h3>ğŸ“– í”¼í—˜ìë‚´ ì„¤ê³„</h3>
                <p><strong>ì •ì˜</strong>: ê° ì°¸ê°€ìê°€ <strong>ëª¨ë“  ì¡°ê±´</strong>ì„ ê²½í—˜í•˜ëŠ” ì„¤ê³„ (ë°˜ë³µì¸¡ì • ì„¤ê³„)</p>
                <p><strong>ì˜ˆì‹œ</strong>: ê°™ì€ ì°¸ê°€ìì—ê²Œ ì„¸ ê°€ì§€ í…Œì´í•‘ ì¡°ê±´ì„ ëª¨ë‘ ì ìš©í•˜ê³  ë¹„êµ</p>
            </div>

            <h3>3.1 ì¥ì ê³¼ ë‹¨ì </h3>

            <div class="table-container">
                <table>
                    <thead>
                        <tr><th>ì¥ì </th><th>ë‹¨ì </th></tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>ê°œì¸ì°¨ í†µì œ (ë” ì ì€ ì°¸ê°€ì)</td>
                            <td>ìˆœì„œ íš¨ê³¼ (ì—°ìŠµ, í”¼ë¡œ, ì´ì›”)</td>
                        </tr>
                        <tr>
                            <td>ë†’ì€ í†µê³„ì  ê²€ì •ë ¥</td>
                            <td>ì—­ê· í˜•í™” í•„ìš”</td>
                        </tr>
                        <tr>
                            <td>ê°œì¸ ë‚´ ë¹„êµ ê°€ëŠ¥</td>
                            <td>ê¸´ ì‹¤í—˜ ì‹œê°„</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <h3>3.2 ìˆœì„œ íš¨ê³¼</h3>

            <div class="warning-box">
                <h3>âš ï¸ í”¼í—˜ìë‚´ ì„¤ê³„ì˜ ìœ„í˜‘ ìš”ì¸</h3>
                <ul>
                    <li><strong>ì—°ìŠµ íš¨ê³¼(Practice Effect)</strong>: ë°˜ë³µìœ¼ë¡œ ì¸í•´ ìˆ˜í–‰ í–¥ìƒ</li>
                    <li><strong>í”¼ë¡œ íš¨ê³¼(Fatigue Effect)</strong>: ì§€ì¹¨ìœ¼ë¡œ ì¸í•´ ìˆ˜í–‰ ì €í•˜</li>
                    <li><strong>ì´ì›” íš¨ê³¼(Carryover Effect)</strong>: ì´ì „ ì¡°ê±´ì˜ ì˜í–¥ì´ ë‚¨ì•„ìˆìŒ</li>
                </ul>
                <p><strong>í•´ê²°ì±…</strong>: ì—­ê· í˜•í™”(Counterbalancing) - ì¡°ê±´ ì œì‹œ ìˆœì„œë¥¼ ë‹¤ì–‘í•˜ê²Œ</p>
            </div>

            <h3>3.3 DB êµ¬ì¡°</h3>

            <div class="sql-box">
                <h3>ğŸ’» í”¼í—˜ìë‚´ ì„¤ê³„ í…Œì´ë¸” (Long format)</h3>
                <pre><code>-- í…Œì´í•‘ íš¨ê³¼ ë¹„êµ ì—°êµ¬
-- ê° ì°¸ê°€ìê°€ 3ê°€ì§€ í…Œì´í•‘ ì¡°ê±´ ëª¨ë‘ ê²½í—˜

-- ì¡°ê±´ ì •ì˜
CREATE TABLE taping_conditions (
    condition_id INTEGER PRIMARY KEY,
    condition_code TEXT NOT NULL,
    condition_name TEXT
);

INSERT INTO taping_conditions VALUES
(1, 'NO_TAPE', 'í…Œì´í•‘ ì—†ìŒ'),
(2, 'SHAM_TAPE', 'ê°€ì§œ í…Œì´í•‘'),
(3, 'KINESIO_TAPE', 'í‚¤ë„¤ì‹œì˜¤ í…Œì´í•‘');

-- ì°¸ê°€ì ê¸°ë³¸ ì •ë³´
CREATE TABLE participants_within (
    participant_id TEXT PRIMARY KEY,
    age INTEGER,
    gender TEXT,
    condition_order TEXT  -- 'ABC', 'BAC', 'CAB' ë“± (ìˆœì„œ)
);

-- ì‹œí–‰(Trial) ë°ì´í„° - Long format
CREATE TABLE trials_within (
    trial_id INTEGER PRIMARY KEY,
    participant_id TEXT NOT NULL,
    condition_id INTEGER NOT NULL,
    trial_order INTEGER NOT NULL,  -- ëª‡ ë²ˆì§¸ ì‹œí–‰ì¸ì§€
    trial_date DATE,

    -- ì¸¡ì •ê°’
    balance_score DECIMAL(4,2),
    pain_vas INTEGER,
    rom_degrees INTEGER,

    FOREIGN KEY (participant_id) REFERENCES participants_within(participant_id),
    FOREIGN KEY (condition_id) REFERENCES taping_conditions(condition_id)
);

-- ì¡°ê±´ë³„ í‰ê·  ë¹„êµ
SELECT
    c.condition_name,
    COUNT(*) AS n_trials,
    ROUND(AVG(t.balance_score), 2) AS mean_balance,
    ROUND(AVG(t.pain_vas), 1) AS mean_pain
FROM trials_within t
JOIN taping_conditions c ON t.condition_id = c.condition_id
GROUP BY c.condition_id, c.condition_name;</code></pre>
            </div>

            <hr>

            <h2>4. í˜¼í•© ì„¤ê³„ (Mixed Design)</h2>

            <div class="concept-box">
                <h3>ğŸ“– í˜¼í•© ì„¤ê³„</h3>
                <p><strong>ì •ì˜</strong>: í”¼í—˜ìê°„ ìš”ì¸ê³¼ í”¼í—˜ìë‚´ ìš”ì¸ì„ <strong>ë™ì‹œì—</strong> í¬í•¨í•˜ëŠ” ì„¤ê³„</p>
                <p><strong>ì˜ˆì‹œ</strong>: ì§‘ë‹¨(ìš´ë™ vs ëŒ€ì¡°) Ã— ì‹œì (ì‚¬ì „, ì‚¬í›„, ì¶”í›„)</p>
                <ul>
                    <li><strong>í”¼í—˜ìê°„ ìš”ì¸</strong>: ì§‘ë‹¨ (between) - ê° ì°¸ê°€ìëŠ” í•œ ì§‘ë‹¨</li>
                    <li><strong>í”¼í—˜ìë‚´ ìš”ì¸</strong>: ì‹œì  (within) - ëª¨ë“  ì°¸ê°€ìê°€ ëª¨ë“  ì‹œì  ì¸¡ì •</li>
                </ul>
            </div>

            <h3>4.1 í˜¼í•© ì„¤ê³„ ì˜ˆì‹œ</h3>

            <div class="example-box">
                <h3>ğŸ“ ì—°êµ¬ ì„¤ê³„: 2 Ã— 3 í˜¼í•© ì„¤ê³„</h3>
                <table>
                    <thead>
                        <tr>
                            <th></th>
                            <th>ì‚¬ì „ (T1)</th>
                            <th>ì‚¬í›„ (T2)</th>
                            <th>ì¶”í›„ (T3)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>ìš´ë™êµ°</strong></td>
                            <td>ì¸¡ì •</td>
                            <td>ì¸¡ì •</td>
                            <td>ì¸¡ì •</td>
                        </tr>
                        <tr>
                            <td><strong>ëŒ€ì¡°êµ°</strong></td>
                            <td>ì¸¡ì •</td>
                            <td>ì¸¡ì •</td>
                            <td>ì¸¡ì •</td>
                        </tr>
                    </tbody>
                </table>
                <p><strong>ë¶„ì„</strong>: ë°˜ë³µì¸¡ì • ANOVA (ì§‘ë‹¨ Ã— ì‹œì  ìƒí˜¸ì‘ìš©)</p>
            </div>

            <h3>4.2 DB êµ¬ì¡°</h3>

            <div class="sql-box">
                <h3>ğŸ’» í˜¼í•© ì„¤ê³„ í…Œì´ë¸”</h3>
                <pre><code>-- ìš´ë™ í”„ë¡œê·¸ë¨ íš¨ê³¼ ì—°êµ¬: ì§‘ë‹¨(2) Ã— ì‹œì (3) í˜¼í•© ì„¤ê³„

-- ì°¸ê°€ì í…Œì´ë¸” (í”¼í—˜ìê°„ ìš”ì¸)
CREATE TABLE participants_mixed (
    participant_id TEXT PRIMARY KEY,
    group_code TEXT NOT NULL CHECK (group_code IN ('exercise', 'control')),
    randomization_date DATE,
    age INTEGER,
    gender TEXT
);

-- ì‹œì  ì •ì˜
CREATE TABLE time_points (
    time_id INTEGER PRIMARY KEY,
    time_code TEXT NOT NULL,  -- 'pre', 'post', 'followup'
    time_name TEXT,
    time_order INTEGER
);

INSERT INTO time_points VALUES
(1, 'pre', 'ì‚¬ì „', 1),
(2, 'post', 'ì‚¬í›„ (4ì£¼)', 2),
(3, 'followup', 'ì¶”í›„ (12ì£¼)', 3);

-- ì¸¡ì • í…Œì´ë¸” (í”¼í—˜ìë‚´ ìš”ì¸)
CREATE TABLE measurements_mixed (
    measurement_id INTEGER PRIMARY KEY,
    participant_id TEXT NOT NULL,
    time_id INTEGER NOT NULL,
    measurement_date DATE,

    -- ì¢…ì†ë³€ìˆ˜ë“¤
    pain_vas INTEGER,
    function_score INTEGER,
    strength_kg DECIMAL(4,1),
    balance_score DECIMAL(4,2),

    FOREIGN KEY (participant_id) REFERENCES participants_mixed(participant_id),
    FOREIGN KEY (time_id) REFERENCES time_points(time_id)
);

-- ì§‘ë‹¨ Ã— ì‹œì  ê¸°ìˆ í†µê³„
SELECT
    p.group_code,
    t.time_name,
    COUNT(*) AS n,
    ROUND(AVG(m.pain_vas), 1) AS mean_pain,
    ROUND(AVG(m.function_score), 1) AS mean_function
FROM measurements_mixed m
JOIN participants_mixed p ON m.participant_id = p.participant_id
JOIN time_points t ON m.time_id = t.time_id
GROUP BY p.group_code, t.time_name, t.time_order
ORDER BY p.group_code, t.time_order;</code></pre>
            </div>

            <hr>

            <h2>5. ë¬´ì„ í™”ì™€ ê· í˜•í™”</h2>

            <h3>5.1 ë¬´ì„  í• ë‹¹ (Random Assignment)</h3>

            <div class="concept-box">
                <h3>ğŸ“– ë¬´ì„  í• ë‹¹ ë°©ë²•</h3>
                <table>
                    <thead>
                        <tr><th>ë°©ë²•</th><th>ì„¤ëª…</th><th>ì¥ì </th></tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>ë‹¨ìˆœ ë¬´ì„ í™”</td>
                            <td>ë™ì „ ë˜ì§€ê¸°ì²˜ëŸ¼ ì™„ì „ ë¬´ì‘ìœ„</td>
                            <td>ê°„ë‹¨í•¨</td>
                        </tr>
                        <tr>
                            <td>ë¸”ë¡ ë¬´ì„ í™”</td>
                            <td>ì¼ì • ë¸”ë¡ ë‚´ì—ì„œ ê· ë“± ë°°ì •</td>
                            <td>ì§‘ë‹¨ í¬ê¸° ê· í˜• ìœ ì§€</td>
                        </tr>
                        <tr>
                            <td>ì¸µí™” ë¬´ì„ í™”</td>
                            <td>ì¸µ(ì„±ë³„, ì—°ë ¹ëŒ€)ë³„ë¡œ ë¬´ì„ í™”</td>
                            <td>ì¤‘ìš” ë³€ìˆ˜ì˜ ê· í˜•</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="sql-box">
                <h3>ğŸ’» ë¬´ì„  í• ë‹¹ ì •ë³´ ì €ì¥</h3>
                <pre><code>-- ë¬´ì„  í• ë‹¹ ì •ë³´ í…Œì´ë¸”
CREATE TABLE randomization_log (
    randomization_id INTEGER PRIMARY KEY,
    participant_id TEXT NOT NULL,
    randomization_date DATETIME DEFAULT CURRENT_TIMESTAMP,
    randomization_method TEXT,  -- 'simple', 'block', 'stratified'
    block_number INTEGER,  -- ë¸”ë¡ ë¬´ì„ í™” ì‹œ
    stratum TEXT,  -- ì¸µí™” ë¬´ì„ í™” ì‹œ (ì˜ˆ: 'M_young', 'F_old')
    assigned_group TEXT NOT NULL,
    randomizer_id TEXT,  -- ëˆ„ê°€ í• ë‹¹í–ˆëŠ”ì§€
    FOREIGN KEY (participant_id) REFERENCES participants(participant_id)
);

-- ë¸”ë¡ ë¬´ì„ í™” ì˜ˆì‹œ: 4ëª… ë¸”ë¡
-- ë¸”ë¡ 1: [Ex, Ex, Ctrl, Ctrl] â†’ ë¬´ì‘ìœ„ ìˆœì„œ
-- ë¸”ë¡ 2: [Ex, Ctrl, Ex, Ctrl] â†’ ë¬´ì‘ìœ„ ìˆœì„œ
INSERT INTO randomization_log (participant_id, randomization_method, block_number, assigned_group) VALUES
('P001', 'block', 1, 'exercise'),
('P002', 'block', 1, 'control'),
('P003', 'block', 1, 'exercise'),
('P004', 'block', 1, 'control'),
('P005', 'block', 2, 'control'),
('P006', 'block', 2, 'exercise');</code></pre>
            </div>

            <h3>5.2 ì—­ê· í˜•í™” (Counterbalancing)</h3>

            <div class="concept-box">
                <h3>ğŸ“– í”¼í—˜ìë‚´ ì„¤ê³„ì˜ ì—­ê· í˜•í™”</h3>
                <p>ìˆœì„œ íš¨ê³¼ë¥¼ í†µì œí•˜ê¸° ìœ„í•´ ì¡°ê±´ ì œì‹œ ìˆœì„œë¥¼ ë‹¤ì–‘í•˜ê²Œ ë°°ì¹˜í•©ë‹ˆë‹¤.</p>
                <table>
                    <thead>
                        <tr><th>ë°©ë²•</th><th>ì¡°ê±´ ìˆ˜</th><th>ì˜ˆì‹œ (ABC)</th></tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>ì™„ì „ ì—­ê· í˜•í™”</td>
                            <td>ëª¨ë“  ìˆœì„œ (n!)</td>
                            <td>ABC, ACB, BAC, BCA, CAB, CBA</td>
                        </tr>
                        <tr>
                            <td>ë¼í‹´ ìŠ¤í€˜ì–´</td>
                            <td>nê°œ ìˆœì„œ</td>
                            <td>ABC, BCA, CAB (3ê°œë§Œ)</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="sql-box">
                <h3>ğŸ’» ì—­ê· í˜•í™” ì •ë³´ ì €ì¥</h3>
                <pre><code>-- ìˆœì„œ ì •ì˜ í…Œì´ë¸”
CREATE TABLE condition_orders (
    order_id INTEGER PRIMARY KEY,
    order_code TEXT NOT NULL,  -- 'ABC', 'ACB', 'BAC', etc.
    first_condition_id INTEGER,
    second_condition_id INTEGER,
    third_condition_id INTEGER
);

-- ë¼í‹´ ìŠ¤í€˜ì–´ (3ì¡°ê±´)
INSERT INTO condition_orders VALUES
(1, 'ABC', 1, 2, 3),
(2, 'BCA', 2, 3, 1),
(3, 'CAB', 3, 1, 2);

-- ì°¸ê°€ìì—ê²Œ ìˆœì„œ í• ë‹¹
CREATE TABLE participants_counterbalanced (
    participant_id TEXT PRIMARY KEY,
    order_id INTEGER NOT NULL,
    age INTEGER,
    gender TEXT,
    FOREIGN KEY (order_id) REFERENCES condition_orders(order_id)
);

-- ìˆœì„œë³„ ì°¸ê°€ì ìˆ˜ í™•ì¸ (ê· í˜• í™•ì¸)
SELECT
    co.order_code,
    COUNT(*) AS n_participants
FROM participants_counterbalanced p
JOIN condition_orders co ON p.order_id = co.order_id
GROUP BY co.order_code;</code></pre>
            </div>

            <hr>

            <h2>6. ì¡°ê±´-ì‹œí–‰-ì¸¡ì • í…Œì´ë¸” êµ¬ì¡°</h2>

            <h3>6.1 ì™„ì „í•œ ì‹¤í—˜ ì—°êµ¬ ìŠ¤í‚¤ë§ˆ</h3>

            <div class="sql-box">
                <h3>ğŸ’» ìš´ë™ ì–‘ì‹ ë¹„êµ ì‹¤í—˜ (í”¼í—˜ìë‚´ ì„¤ê³„)</h3>
                <pre><code>-- ì—°êµ¬: 3ê°€ì§€ ìŠ¤íŠ¸ë ˆì¹­ ë°©ë²•ì˜ ìœ ì—°ì„± í–¥ìƒ íš¨ê³¼ ë¹„êµ
-- ì„¤ê³„: í”¼í—˜ìë‚´ ì„¤ê³„, ë¼í‹´ ìŠ¤í€˜ì–´ ì—­ê· í˜•í™”

-- 1. ì¡°ê±´ ì •ì˜
CREATE TABLE stretch_conditions (
    condition_id INTEGER PRIMARY KEY,
    condition_code TEXT NOT NULL,
    condition_name TEXT,
    duration_sec INTEGER,
    description TEXT
);

INSERT INTO stretch_conditions VALUES
(1, 'STATIC', 'ì •ì  ìŠ¤íŠ¸ë ˆì¹­', 30, '30ì´ˆê°„ ìœ ì§€'),
(2, 'DYNAMIC', 'ë™ì  ìŠ¤íŠ¸ë ˆì¹­', 30, '10íšŒ ë°˜ë³µ'),
(3, 'PNF', 'PNF ìŠ¤íŠ¸ë ˆì¹­', 30, 'ìˆ˜ì¶•-ì´ì™„-ìŠ¤íŠ¸ë ˆì¹­');

-- 2. ìˆœì„œ ì •ì˜ (ë¼í‹´ ìŠ¤í€˜ì–´)
CREATE TABLE stretch_orders (
    order_id INTEGER PRIMARY KEY,
    order_code TEXT,
    seq1 INTEGER, seq2 INTEGER, seq3 INTEGER
);

INSERT INTO stretch_orders VALUES
(1, 'SDP', 1, 2, 3),  -- Static â†’ Dynamic â†’ PNF
(2, 'DPS', 2, 3, 1),  -- Dynamic â†’ PNF â†’ Static
(3, 'PSD', 3, 1, 2);  -- PNF â†’ Static â†’ Dynamic

-- 3. ì°¸ê°€ì
CREATE TABLE stretch_participants (
    participant_id TEXT PRIMARY KEY,
    order_id INTEGER NOT NULL,
    age INTEGER,
    gender TEXT,
    baseline_flexibility DECIMAL(4,1),  -- ê¸°ì´ˆ ìœ ì—°ì„±
    FOREIGN KEY (order_id) REFERENCES stretch_orders(order_id)
);

-- 4. ì‹œí–‰ ë°ì´í„°
CREATE TABLE stretch_trials (
    trial_id INTEGER PRIMARY KEY,
    participant_id TEXT NOT NULL,
    condition_id INTEGER NOT NULL,
    trial_sequence INTEGER NOT NULL,  -- 1, 2, 3 (ëª‡ ë²ˆì§¸ ì‹œí–‰)
    trial_date DATE,
    washout_days INTEGER,  -- ì´ì „ ì‹œí–‰ í›„ íœ´ì‹ ê¸°ê°„

    -- ì¸¡ì •ê°’
    pre_rom DECIMAL(4,1),   -- ìŠ¤íŠ¸ë ˆì¹­ ì „ ROM
    post_rom DECIMAL(4,1),  -- ìŠ¤íŠ¸ë ˆì¹­ ì§í›„ ROM
    post_10min_rom DECIMAL(4,1),  -- 10ë¶„ í›„ ROM

    -- ê³„ì‚°ëœ ë³€í™”ëŸ‰
    immediate_change DECIMAL(4,1),  -- post - pre
    retained_change DECIMAL(4,1),   -- post_10min - pre

    FOREIGN KEY (participant_id) REFERENCES stretch_participants(participant_id),
    FOREIGN KEY (condition_id) REFERENCES stretch_conditions(condition_id)
);

-- 5. ë¶„ì„ìš© VIEW
CREATE VIEW stretch_analysis AS
SELECT
    p.participant_id,
    p.age,
    p.gender,
    p.baseline_flexibility,
    so.order_code,
    c.condition_name,
    t.trial_sequence,
    t.pre_rom,
    t.post_rom,
    t.post_rom - t.pre_rom AS rom_change
FROM stretch_trials t
JOIN stretch_participants p ON t.participant_id = p.participant_id
JOIN stretch_conditions c ON t.condition_id = c.condition_id
JOIN stretch_orders so ON p.order_id = so.order_id;</code></pre>
            </div>

            <h3>6.2 ë¶„ì„ ì¿¼ë¦¬</h3>

            <div class="sql-box">
                <h3>ğŸ’» ë¶„ì„ìš© ì¿¼ë¦¬</h3>
                <pre><code>-- 1. ì¡°ê±´ë³„ ROM ë³€í™”ëŸ‰ ë¹„êµ
SELECT
    condition_name,
    COUNT(*) AS n,
    ROUND(AVG(pre_rom), 1) AS mean_pre,
    ROUND(AVG(post_rom), 1) AS mean_post,
    ROUND(AVG(rom_change), 1) AS mean_change,
    ROUND(AVG(rom_change) / AVG(pre_rom) * 100, 1) AS pct_change
FROM stretch_analysis
GROUP BY condition_name;

-- 2. ìˆœì„œ íš¨ê³¼ í™•ì¸ (ì‹œí–‰ ìˆœì„œë³„ ë³€í™”ëŸ‰)
SELECT
    trial_sequence,
    ROUND(AVG(rom_change), 1) AS mean_change
FROM stretch_analysis
GROUP BY trial_sequence;
-- ì‹œí–‰ ìˆœì„œì— ë”°ë¼ ë³€í™”ëŸ‰ì´ ë‹¤ë¥´ë©´ ìˆœì„œ íš¨ê³¼ ì¡´ì¬

-- 3. ì¡°ê±´ Ã— ìˆœì„œ êµì°¨í‘œ
SELECT
    condition_name,
    trial_sequence,
    COUNT(*) AS n,
    ROUND(AVG(rom_change), 1) AS mean_change
FROM stretch_analysis
GROUP BY condition_name, trial_sequence
ORDER BY condition_name, trial_sequence;

-- 4. í†µê³„ ë¶„ì„ìš© Wide í˜•ì‹ ë³€í™˜
SELECT
    participant_id,
    MAX(CASE WHEN condition_name = 'ì •ì  ìŠ¤íŠ¸ë ˆì¹­' THEN rom_change END) AS static_change,
    MAX(CASE WHEN condition_name = 'ë™ì  ìŠ¤íŠ¸ë ˆì¹­' THEN rom_change END) AS dynamic_change,
    MAX(CASE WHEN condition_name = 'PNF ìŠ¤íŠ¸ë ˆì¹­' THEN rom_change END) AS pnf_change
FROM stretch_analysis
GROUP BY participant_id;</code></pre>
            </div>

            <div class="summary-box">
                <h3>ğŸ“ ì´ ì¥ì˜ í•µì‹¬ ì •ë¦¬</h3>
                <ol>
                    <li><strong>ì‹¤í—˜ ì—°êµ¬</strong>: ë…ë¦½ë³€ìˆ˜ ì¡°ì‘ + ë¬´ì„  í• ë‹¹ìœ¼ë¡œ ì¸ê³¼ê´€ê³„ ì¶”ë¡ </li>
                    <li><strong>í”¼í—˜ìê°„ ì„¤ê³„</strong>: ê° ì°¸ê°€ìê°€ í•œ ì¡°ê±´ â†’ group ì»¬ëŸ¼ìœ¼ë¡œ êµ¬ë¶„</li>
                    <li><strong>í”¼í—˜ìë‚´ ì„¤ê³„</strong>: ëª¨ë“  ì°¸ê°€ìê°€ ëª¨ë“  ì¡°ê±´ â†’ Long format</li>
                    <li><strong>í˜¼í•© ì„¤ê³„</strong>: í”¼í—˜ìê°„ + í”¼í—˜ìë‚´ ê²°í•© (ì§‘ë‹¨ Ã— ì‹œì )</li>
                    <li><strong>ì—­ê· í˜•í™”</strong>: ìˆœì„œ íš¨ê³¼ í†µì œ, ë¼í‹´ ìŠ¤í€˜ì–´ ë“± ì‚¬ìš©</li>
                    <li><strong>DB êµ¬ì¡°</strong>: conditions + participants + trials íŒ¨í„´</li>
                </ol>
            </div>

            <div class="nav-buttons">
                <a href="chapter-11.html" class="nav-btn">â† ì´ì „</a>
                <span class="page-num">12 / 20</span>
                <a href="chapter-13.html" class="nav-btn">ë‹¤ìŒ â†’</a>
            </div>
        </main>
    </div>
    <script src="../js/nav.js"></script>
</body>
</html>
